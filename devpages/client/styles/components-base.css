/**
 * Component Base Classes - Unified CSS Architecture
 * Consolidates duplicate patterns from 28+ component CSS files
 * Replaces redundant styles in panels.css, BasePanel.css, and individual component files
 */

/* ===== PANEL SYSTEM BASE CLASSES ===== */

/* Base Panel Container - replaces .panel-container across multiple files */
.panel-base {
    display: flex;
    flex-direction: column;
    background: var(--color-bg-elevated);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    transition: var(--transition-fast);
}

.panel-base.panel-hidden {
    display: none;
}

/* Panel Header - consolidates .panel-header patterns */
.panel-header-base {
    padding: var(--space-2) var(--space-3);
    background-color: var(--color-bg-alt);
    border-bottom: 1px solid var(--color-border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-fg);
    user-select: none;
    transition: background-color var(--transition-fast);
}

.panel-header-base:hover {
    background-color: var(--color-bg-hover);
}

.panel-header-base.draggable {
    cursor: grab;
}

.panel-header-base.draggable:active {
    cursor: grabbing;
}

/* Panel Title - standardized across all panels */
.panel-title-base {
    font-weight: var(--font-weight-semibold);
    color: var(--color-fg);
    margin: 0;
    line-height: 1.2;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex: 1;
}

/* Panel Controls - unified control button container */
.panel-controls-base {
    display: flex;
    gap: var(--space-1);
    align-items: center;
}

.panel-control-btn-base {
    background: none;
    border: none;
    padding: var(--space-0-5) var(--space-1);
    cursor: pointer;
    color: var(--color-fg-alt);
    border-radius: var(--radius-sm);
    transition: var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
}

.panel-control-btn-base:hover {
    background-color: var(--color-bg-hover);
    color: var(--color-fg);
}

.panel-control-btn-base:active {
    background-color: var(--color-bg-active);
}

/* Panel Content - standardized content area */
.panel-content-base {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    background-color: var(--color-bg);
    padding: var(--space-3);
    color: var(--color-fg);
    min-height: 0; /* Prevents flex overflow */
}

.panel-content-base.no-padding {
    padding: 0;
}

.panel-content-base.compact-padding {
    padding: var(--space-2);
}

/* Panel Footer - for panels with action areas */
.panel-footer-base {
    padding: var(--space-2) var(--space-3);
    background-color: var(--color-bg-alt);
    border-top: 1px solid var(--color-border);
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: var(--space-2);
}

/* ===== SETTINGS PANEL VARIANTS ===== */

/* Settings Panel - specific styling for settings panels */
.settings-panel-base {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    padding: var(--space-3);
    background: var(--color-bg);
}

/* Settings Section - reusable section container */
.settings-section-base {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    padding: var(--space-3);
    background: var(--color-bg-elevated);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
}

.settings-section-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--color-fg);
    margin: 0 0 var(--space-2) 0;
    padding-bottom: var(--space-1);
    border-bottom: 1px solid var(--color-border);
}

/* Settings Grid - common two-column layout */
.settings-grid-base {
    display: grid;
    grid-template-columns: auto 1fr;
    align-items: center;
    gap: var(--space-2) var(--space-4);
}

.settings-label-base {
    font-weight: var(--font-weight-medium);
    color: var(--color-fg-alt);
    text-align: left;
    white-space: nowrap;
}

.settings-value-base {
    font-family: var(--font-family-mono);
    font-size: var(--font-size-sm);
    background: var(--color-bg);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-sm);
    border: 1px solid var(--color-border);
    color: var(--color-fg);
    overflow-wrap: break-word;
}

/* ===== BUTTON SYSTEM CONSOLIDATION ===== */

/* Action Button Group - common pattern across panels */
.action-group-base {
    display: flex;
    gap: var(--space-2);
    align-items: center;
    flex-wrap: wrap;
}

.action-group-base.right-aligned {
    justify-content: flex-end;
}

.action-group-base.center-aligned {
    justify-content: center;
}

/* Icon Button - common icon-only button pattern */
.icon-btn-base {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
    background: var(--color-bg);
    color: var(--color-fg-alt);
    cursor: pointer;
    transition: var(--transition-fast);
}

.icon-btn-base:hover {
    background: var(--color-bg-hover);
    border-color: var(--color-border-hover);
    color: var(--color-fg);
}

.icon-btn-base:active {
    background: var(--color-bg-active);
    transform: translateY(1px);
}

.icon-btn-base.primary {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: var(--color-primary-foreground);
}

.icon-btn-base.primary:hover {
    background: var(--color-primary-hover);
    border-color: var(--color-primary-hover);
}

/* ===== LIST COMPONENTS ===== */

/* Item List - common list pattern across panels */
.item-list-base {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    max-height: 300px;
    overflow-y: auto;
    overscroll-behavior: contain;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    padding: var(--space-2);
    background-color: var(--color-bg);
}

.item-list-base.compact {
    gap: var(--space-0-5);
    padding: var(--space-1);
}

/* List Item - standardized list item */
.list-item-base {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-2);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
    background-color: var(--color-bg-elevated);
    transition: var(--transition-fast);
}

.list-item-base:hover {
    background-color: var(--color-bg-hover);
    border-color: var(--color-border-hover);
}

.list-item-base.active {
    border-color: var(--color-primary);
    background-color: var(--color-primary-background);
}

.list-item-base.active .list-item-title {
    font-weight: var(--font-weight-semibold);
    color: var(--color-primary);
}

/* List Item Content */
.list-item-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--space-0-5);
    min-width: 0; /* Allows text truncation */
}

.list-item-title {
    font-weight: var(--font-weight-medium);
    color: var(--color-fg);
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.list-item-subtitle {
    font-size: var(--font-size-xs);
    color: var(--color-fg-muted);
    margin: 0;
}

.list-item-actions {
    display: flex;
    gap: var(--space-1);
    align-items: center;
}

/* ===== FORM COMPONENTS ===== */

/* Form Group - common form field container */
.form-group-base {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
}

.form-group-base.horizontal {
    flex-direction: row;
    align-items: center;
    gap: var(--space-2);
}

.form-label-base {
    font-weight: var(--font-weight-medium);
    color: var(--color-fg);
    font-size: var(--font-size-sm);
}

.form-input-base {
    padding: var(--space-2);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
    background: var(--color-bg);
    color: var(--color-fg);
    font-size: var(--font-size-sm);
    transition: var(--transition-fast);
}

.form-input-base:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px var(--color-primary-background);
}

.form-input-base:disabled {
    background: var(--color-bg-muted);
    color: var(--color-fg-muted);
    cursor: not-allowed;
}

/* ===== STATUS AND FEEDBACK ===== */

/* Empty State - common empty state pattern */
.empty-state-base {
    text-align: center;
    padding: var(--space-8) var(--space-4);
    color: var(--color-fg-muted);
    font-style: italic;
}

.empty-state-icon {
    font-size: var(--font-size-4xl);
    margin-bottom: var(--space-2);
    opacity: 0.5;
}

.empty-state-title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-medium);
    color: var(--color-fg-alt);
    margin: 0 0 var(--space-1) 0;
}

.empty-state-description {
    font-size: var(--font-size-sm);
    color: var(--color-fg-muted);
    margin: 0;
}

/* Loading State - common loading pattern */
.loading-state-base {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-8) var(--space-4);
    color: var(--color-fg-muted);
    font-style: italic;
}

.loading-spinner {
    width: 20px;
    height: 20px;
    border: 2px solid var(--color-border);
    border-top-color: var(--color-primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-right: var(--space-2);
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* ===== UTILITY CLASSES ===== */

/* Scrollbar Styling - consistent across all scrollable areas */
.custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: var(--color-bg-muted);
    border-radius: var(--radius-sm);
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--color-border-hover);
    border-radius: var(--radius-sm);
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--color-fg-muted);
}

/* Apply custom scrollbar to all base components */
.panel-content-base,
.item-list-base {
    scrollbar-width: thin;
    scrollbar-color: var(--color-border-hover) var(--color-bg-muted);
}

.panel-content-base::-webkit-scrollbar,
.item-list-base::-webkit-scrollbar {
    width: 6px;
}

.panel-content-base::-webkit-scrollbar-track,
.item-list-base::-webkit-scrollbar-track {
    background: var(--color-bg-muted);
    border-radius: var(--radius-sm);
}

.panel-content-base::-webkit-scrollbar-thumb,
.item-list-base::-webkit-scrollbar-thumb {
    background: var(--color-border-hover);
    border-radius: var(--radius-sm);
}

.panel-content-base::-webkit-scrollbar-thumb:hover,
.item-list-base::-webkit-scrollbar-thumb:hover {
    background: var(--color-fg-muted);
}
