# Secrets resolved from ~/tetra/orgs/nodeholder/secrets.env

[service]
name = "devpages"
command = "node scripts/serve-modules.js"
description = "DevPages"
org = "nodeholder"

# Shared across ALL environments
[shared]
NODE_ENV = "production"
DO_SPACES_ENDPOINT = "https://sfo3.digitaloceanspaces.com"
DO_SPACES_BUCKET = "pja-games"
DO_SPACES_REGION = "sfo3"
AUDIT_BATCH_SIZE = "50"
AUDIT_FLUSH_INTERVAL = "30000"
AUDIT_BUCKET = "pja-logs"
APP_VERSION = "1.0.0"
LOG_MAX_FILES = "100"
LOG_COMPRESSION = "true"

# Secrets - $VAR resolved from org secrets.env at deploy time
[secrets]
DO_SPACES_KEY = "$DO_SPACES_KEY"
DO_SPACES_SECRET = "$DO_SPACES_SECRET"
EDIT_TOKEN_SECRET = "$EDIT_TOKEN_SECRET"

[local]
PORT = "4000"
HOST = "localhost"
USER = "mricos"
PD_DIR = "$HOME/nh/mr/pd"
LOG_DIR = "./logs"
LOG_MAX_FILE_SIZE = "10MB"
LOG_MAX_DISK_USAGE = "500MB"
EDIT_TOKEN_SECRET = "dev-token-secret"
cwd = "$HOME/src/devops/devpages"

[prod]
PORT = "4000"
HOST = "0.0.0.0"
USER = "devops"
PD_DIR = "/home/devops/pd"
LOG_DIR = "/home/devops/devpages/logs"
LOG_MAX_FILE_SIZE = "50MB"
LOG_MAX_DISK_USAGE = "1GB"
cwd = "/home/devops/devpages"
