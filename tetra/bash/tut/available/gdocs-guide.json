{
  "metadata": {
    "title": "Google Docs MCP Setup",
    "subtitle": "Enable Claude Code to Read and Write Google Docs",
    "description": "Configure the Google Docs MCP server for Claude Code with org-level OAuth credentials.",
    "version": "0.0.2",
    "author": "tetra",
    "created": "2025-12-11T00:00:00Z",
    "tags": [
      "mcp",
      "google-docs",
      "oauth",
      "claude",
      "api",
      "guide"
    ],
    "difficulty": "intermediate",
    "estimatedTime": 30,
    "prerequisites": [
      "A Google account (personal or Workspace)",
      "Claude Code installed and working",
      "Tetra sourced in your shell",
      "Node.js and npm installed"
    ],
    "context": {
      "shell": "bash",
      "shellVersion": "5.2+",
      "requiredCommands": [
        "node",
        "npm",
        "source"
      ],
      "environmentVars": {
        "TETRA_SRC": "Path to tetra source",
        "TETRA_DIR": "Path to tetra runtime data"
      },
      "workingDirectory": "~/tetra"
    },
    "updated": "2025-12-12T03:50:29Z"
  },
  "theme": {
    "colors": {
      "accentPrimary": "#4285f4",
      "accentSecondary": "#34a853"
    }
  },
  "steps": [
    {
      "id": "welcome",
      "title": "Welcome",
      "content": [
        {
          "type": "paragraph",
          "text": "This guide walks you through setting up the Google Docs MCP server, enabling Claude Code to read and write Google Docs directly."
        },
        {
          "type": "learn-box",
          "title": "What You'll Learn",
          "content": [
            {
              "type": "list",
              "items": [
                "Creating a Google Cloud project with Docs API enabled",
                "Configuring OAuth credentials at the org level",
                "Running the authorization flow",
                "Registering the MCP server with Claude Code"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "By the end, you'll be able to say 'edit this Google Doc' and Claude will do it."
        }
      ],
      "terminal": [
        {
          "type": "comment",
          "content": "# Google Docs MCP Setup"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "This guide configures:"
        },
        {
          "type": "output-success",
          "content": "  1. Google Cloud OAuth credentials"
        },
        {
          "type": "output-success",
          "content": "  2. MCP server for Claude Code"
        },
        {
          "type": "output-success",
          "content": "  3. Direct Google Docs access"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "comment",
          "content": "# Time: ~30 minutes"
        }
      ]
    },
    {
      "id": "prerequisites",
      "title": "Prerequisites",
      "content": [
        {
          "type": "paragraph",
          "text": "Before starting, ensure you have:"
        },
        {
          "type": "list",
          "items": [
            "A Google account (personal or Workspace)",
            "Claude Code installed and working",
            "Tetra sourced in your shell",
            "Node.js and npm installed"
          ]
        },
        {
          "type": "you-try",
          "title": "Verify Prerequisites",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "source ~/tetra/tetra.sh",
                "node --version",
                "claude --version"
              ]
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "source ~/tetra/tetra.sh"
        },
        {
          "type": "output-success",
          "content": "Tetra initialized"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "node --version"
        },
        {
          "type": "output",
          "content": "v20.10.0"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "claude --version"
        },
        {
          "type": "output",
          "content": "claude-code 1.0.x"
        }
      ]
    },
    {
      "id": "create-project",
      "title": "Create Google Cloud Project",
      "content": [
        {
          "type": "paragraph",
          "text": "First, create a Google Cloud project to host your API credentials."
        },
        {
          "type": "you-try",
          "title": "Create Project",
          "content": [
            {
              "type": "list",
              "ordered": true,
              "items": [
                "Go to console.cloud.google.com",
                "Click 'Select a project' dropdown",
                "Click 'New Project'",
                "Name it (e.g., 'nodeholder')",
                "Click 'Create'"
              ]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "Project Naming",
          "content": [
            {
              "type": "paragraph",
              "text": "Use your org name as the project name. This keeps credentials organized when you have multiple orgs."
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "comment",
          "content": "# Google Cloud Console"
        },
        {
          "type": "output",
          "content": "https://console.cloud.google.com"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "comment",
          "content": "# Create a new project"
        },
        {
          "type": "output",
          "content": "Project name: nodeholder"
        },
        {
          "type": "output",
          "content": "Organization: (optional)"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-success",
          "content": "Project created!"
        }
      ]
    },
    {
      "id": "enable-apis",
      "title": "Enable APIs",
      "content": [
        {
          "type": "paragraph",
          "text": "Enable the Google Docs and Google Drive APIs for your project."
        },
        {
          "type": "you-try",
          "title": "Enable APIs",
          "content": [
            {
              "type": "list",
              "ordered": true,
              "items": [
                "Go to 'APIs & Services' > 'Library'",
                "Search for 'Google Docs API'",
                "Click it, then click 'Enable'",
                "Search for 'Google Drive API'",
                "Click it, then click 'Enable'"
              ]
            }
          ]
        },
        {
          "type": "warning-box",
          "title": "Both APIs Required",
          "content": [
            {
              "type": "paragraph",
              "text": "You need both APIs. Docs API for reading/writing content, Drive API for file access and permissions."
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "comment",
          "content": "# APIs to enable:"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-success",
          "content": "  Google Docs API    - Read/write documents"
        },
        {
          "type": "output-success",
          "content": "  Google Drive API   - File access"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "comment",
          "content": "# Find at: APIs & Services > Library"
        }
      ]
    },
    {
      "id": "oauth-consent",
      "title": "Configure OAuth Consent Screen",
      "content": [
        {
          "type": "paragraph",
          "text": "Set up the OAuth consent screen that users see when authorizing your app."
        },
        {
          "type": "you-try",
          "title": "Configure Consent Screen",
          "content": [
            {
              "type": "list",
              "ordered": true,
              "items": [
                "Go to 'APIs & Services' > 'OAuth consent screen'",
                "Select 'External' user type",
                "Fill in app name (e.g., 'Nodeholder')",
                "Add your email for support contact",
                "Click through to 'Scopes' - add documents and drive.file scopes",
                "Add yourself as a Test User",
                "Save"
              ]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "Test Users",
          "content": [
            {
              "type": "paragraph",
              "text": "While in 'Testing' mode, only users you explicitly add as test users can authorize. Add your own email address."
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "comment",
          "content": "# OAuth Consent Configuration"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "User Type: External"
        },
        {
          "type": "output",
          "content": "App Name: Nodeholder"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "comment",
          "content": "# Required scopes:"
        },
        {
          "type": "output",
          "content": "  .../auth/documents"
        },
        {
          "type": "output",
          "content": "  .../auth/drive.file"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "comment",
          "content": "# Add yourself as test user!"
        }
      ]
    },
    {
      "id": "create-credentials",
      "title": "Create OAuth Credentials",
      "content": [
        {
          "type": "paragraph",
          "text": "Create the OAuth client credentials that your MCP server will use."
        },
        {
          "type": "you-try",
          "title": "Create Credentials",
          "content": [
            {
              "type": "list",
              "ordered": true,
              "items": [
                "Go to 'APIs & Services' > 'Credentials'",
                "Click '+ CREATE CREDENTIALS'",
                "Select 'OAuth client ID'",
                "Application type: 'Desktop app'",
                "Name it (e.g., 'Claude Docs')",
                "Click 'Create'",
                "Download the JSON file"
              ]
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "comment",
          "content": "# Create OAuth Client ID"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "Type: Desktop app"
        },
        {
          "type": "output",
          "content": "Name: Claude Docs"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-success",
          "content": "Client ID created!"
        },
        {
          "type": "output",
          "content": "Download: client_secret_xxx.json"
        }
      ]
    },
    {
      "id": "place-credentials",
      "title": "Place Credentials",
      "content": [
        {
          "type": "paragraph",
          "text": "Move the downloaded credentials to the MCP server directory. This is where the server looks for them."
        },
        {
          "type": "you-try",
          "title": "Move Credentials",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "mv ~/Downloads/client_secret_*.json $TETRA_SRC/bash/gdocs/mcp-server/credentials.json"
              ]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "Credentials Location",
          "content": [
            {
              "type": "paragraph",
              "text": "The MCP server looks for credentials.json in its working directory. After authorization, it creates token.json in the same location."
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "mv ~/Downloads/client_secret_*.json \\"
        },
        {
          "type": "output",
          "content": "   $TETRA_SRC/bash/gdocs/mcp-server/credentials.json"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-success",
          "content": "Credentials stored!"
        }
      ]
    },
    {
      "id": "authorize",
      "title": "Run Authorization Flow",
      "content": [
        {
          "type": "paragraph",
          "text": "Run the MCP server to complete OAuth authorization. This generates a token.json that allows ongoing access without re-authorizing."
        },
        {
          "type": "you-try",
          "title": "Authorize",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "cd $TETRA_SRC/bash/gdocs/mcp-server",
                "node node_modules/@xalia/mcp-googledocs-server/dist/server.js"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Follow the URL, sign in with your Google account, and paste the authorization code back into the terminal."
        },
        {
          "type": "warning-box",
          "title": "Localhost Error is Normal",
          "content": [
            {
              "type": "paragraph",
              "text": "After clicking Allow, you'll see 'This site can't be reached' - this is expected! Copy the code from the URL bar (?code=XXX&scope=...)."
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "cd $TETRA_SRC/bash/gdocs/mcp-server"
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "node node_modules/@xalia/mcp-googledocs-server/dist/server.js"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "Starting OAuth authorization flow..."
        },
        {
          "type": "output",
          "content": "Authorize this app by visiting:"
        },
        {
          "type": "output",
          "content": "https://accounts.google.com/o/oauth2/..."
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "Enter the code from that page here:"
        },
        {
          "type": "output",
          "content": "4/1ATX87..."
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-success",
          "content": "Token stored! Authentication successful."
        }
      ]
    },
    {
      "id": "register-mcp",
      "title": "Register MCP Server",
      "content": [
        {
          "type": "paragraph",
          "text": "Register the Google Docs MCP server with Claude Code so it can use the API tools."
        },
        {
          "type": "paragraph",
          "text": "Add the following to ~/.claude.json under your project's mcpServers section:"
        },
        {
          "type": "code-block",
          "language": "json",
          "code": "\"google-docs\": {\n  \"type\": \"stdio\",\n  \"command\": \"node\",\n  \"args\": [\n    \"/Users/YOU/src/devops/tetra/bash/gdocs/mcp-server/node_modules/@xalia/mcp-googledocs-server/dist/server.js\"\n  ],\n  \"env\": {}\n}"
        },
        {
          "type": "info-box",
          "title": "Path Must Be Absolute",
          "content": [
            {
              "type": "paragraph",
              "text": "Replace /Users/YOU with your actual home directory. Environment variables won't work in the JSON config."
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "After editing ~/.claude.json, restart Claude Code and run /mcp to verify the server is connected."
        }
      ],
      "terminal": [
        {
          "type": "comment",
          "content": "# Find your absolute path:"
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "echo $TETRA_SRC/bash/gdocs/mcp-server/node_modules/@xalia/mcp-googledocs-server/dist/server.js"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "comment",
          "content": "# Edit ~/.claude.json, then restart Claude Code"
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "/mcp"
        },
        {
          "type": "output-success",
          "content": "google-docs: connected"
        }
      ]
    },
    {
      "id": "test",
      "title": "Test the Integration",
      "content": [
        {
          "type": "paragraph",
          "text": "Verify everything works by asking Claude to interact with a Google Doc."
        },
        {
          "type": "you-try",
          "title": "Test It",
          "content": [
            {
              "type": "paragraph",
              "text": "In Claude Code, try:"
            },
            {
              "type": "list",
              "items": [
                "'List my recent Google Docs'",
                "'Read the contents of [doc URL]'",
                "'Add a paragraph to [doc URL]'"
              ]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "Document IDs",
          "content": [
            {
              "type": "paragraph",
              "text": "You can use either full Google Docs URLs or just the document ID (the long string in the URL between /d/ and /edit)."
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "comment",
          "content": "# In Claude Code:"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "user: Read this doc: https://docs.google.com/document/d/abc123/edit"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "claude: Reading document abc123..."
        },
        {
          "type": "output-success",
          "content": "The document contains:"
        },
        {
          "type": "output",
          "content": "  Title: My Document"
        },
        {
          "type": "output",
          "content": "  Content: ..."
        }
      ]
    },
    {
      "id": "complete",
      "title": "You're All Set!",
      "content": [
        {
          "type": "paragraph",
          "text": "Claude Code can now read and write your Google Docs directly."
        },
        {
          "type": "learn-box",
          "title": "What You Accomplished",
          "content": [
            {
              "type": "list",
              "items": [
                "Created Google Cloud project with APIs enabled",
                "Configured OAuth consent and credentials",
                "Authorized the MCP server",
                "Registered MCP server with Claude Code",
                "Connected Claude Code to Google Docs"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Quick reference:"
        },
        {
          "type": "list",
          "items": [
            "Re-auth: rm token.json && node .../server.js",
            "Check MCP: /mcp in Claude Code",
            "Package: @xalia/mcp-googledocs-server"
          ]
        }
      ],
      "terminal": [
        {
          "type": "output-header",
          "content": "Setup Complete!"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-success",
          "content": "Google Docs MCP is ready"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "comment",
          "content": "# Quick reference:"
        },
        {
          "type": "output",
          "content": "  Package: @xalia/mcp-googledocs-server"
        },
        {
          "type": "output",
          "content": "  Re-auth: rm token.json && node server.js"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "comment",
          "content": "# Now try it in Claude Code!"
        }
      ]
    }
  ],
  "glossary": {
    "MCP": {
      "term": "Model Context Protocol",
      "definition": "Anthropic's standard for connecting AI assistants to external tools and services",
      "url": "https://modelcontextprotocol.io"
    },
    "OAuth": {
      "term": "OAuth 2.0",
      "definition": "Authorization framework that enables secure third-party access to user resources"
    },
    "credentials.json": {
      "term": "OAuth Client Credentials",
      "definition": "JSON file from Google Cloud Console containing client ID and secret"
    },
    "token.json": {
      "term": "OAuth Refresh Token",
      "definition": "Generated after authorization, allows continued access without re-authenticating"
    }
  }
}
