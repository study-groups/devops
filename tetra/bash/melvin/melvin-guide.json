{
  "metadata": {
    "title": "MELVIN Interactive Guide",
    "subtitle": "Learn the Tetra Way: Build a Notes Module Step-by-Step",
    "description": "Interactive guide for building tetra modules using MELVIN (Machine Electronics Live Virtual Intelligence Network)",
    "version": "1.1.0",
    "author": "tetra",
    "created": "2025-12-04T00:00:00Z",
    "difficulty": "beginner",
    "estimatedTime": 30,
    "tags": [
      "tetra",
      "melvin",
      "modules",
      "bash",
      "guide"
    ],
    "prerequisites": [
      "Bash 5.2+ installed",
      "Tetra cloned at ~/tetra",
      "Terminal access"
    ],
    "context": {
      "shell": "bash",
      "shellVersion": "5.2+",
      "requiredCommands": [
        "source",
        "mkdir",
        "cat"
      ],
      "environmentVars": {
        "TETRA_SRC": "path to tetra source",
        "TETRA_DIR": "path to tetra runtime data"
      }
    },
    "updated": "2025-12-04T19:01:21Z"
  },
  "features": {
    "designTokenEditor": true,
    "keyboardNavigation": true,
    "terminalAnimation": true
  },
  "theme": {
    "colors": {
      "bgPrimary": "#0d1117",
      "bgSecondary": "#161b22",
      "bgTertiary": "#21262d",
      "textPrimary": "#c9d1d9",
      "textSecondary": "#8b949e",
      "accentPrimary": "#58a6ff",
      "accentSecondary": "#1f6feb",
      "success": "#3fb950",
      "warning": "#d29922",
      "error": "#f85149",
      "border": "#30363d"
    }
  },
  "steps": [
    {
      "id": "welcome",
      "title": "Welcome to the MELVIN Guide",
      "content": [
        {
          "type": "paragraph",
          "text": "In this interactive guide, you'll learn how to use MELVIN (Machine Electronics Live Virtual Intelligence Network) to build a new tetra module the right way."
        },
        {
          "type": "list",
          "title": "What you'll learn:",
          "items": [
            "How to bootstrap MELVIN in your terminal",
            "Understanding tetra's architecture patterns",
            "Strong globals, no dotfiles, and module types",
            "Building a complete module with MELVIN's guidance"
          ]
        },
        {
          "type": "learn-box",
          "title": "Prerequisites",
          "content": [
            {
              "type": "paragraph",
              "text": "Before starting, make sure you have:"
            },
            {
              "type": "list",
              "items": [
                "Bash 5.2+ installed",
                "Tetra cloned and accessible at ~/tetra",
                "A terminal window open"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "The right panel shows a simulated terminal. As you progress through the guide, you'll see commands and their output appear there. You should follow along in your real terminal!"
        }
      ],
      "terminal": [
        {
          "type": "comment",
          "content": "# Welcome! Ready to learn the tetra way?"
        },
        {
          "type": "comment",
          "content": "# Keep this browser tab open alongside your terminal"
        },
        {
          "type": "comment",
          "content": "# Click \"Next\" when ready to begin"
        }
      ]
    },
    {
      "id": "bootstrap",
      "title": "Bootstrap MELVIN",
      "content": [
        {
          "type": "paragraph",
          "text": "Every tetra session starts the same way: source the tetra environment. This sets up all the strong globals (like `TETRA_SRC` and `TETRA_DIR`) that modules depend on."
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "In your terminal, navigate to the tetra directory and source tetra.sh:"
            },
            {
              "type": "command-block",
              "commands": [
                "cd ~/tetra",
                "source ~/tetra/tetra.sh"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Now that tetra is loaded, let's load MELVIN. MELVIN is itself a tetra module, so we source its includes.sh file."
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "Load MELVIN:"
            },
            {
              "type": "command-block",
              "commands": [
                "source \"$TETRA_SRC/bash/melvin/includes.sh\""
              ]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "What Just Happened?",
          "content": [
            {
              "type": "list",
              "items": [
                "`TETRA_SRC` points to your tetra source code",
                "`TETRA_DIR` points to runtime data (separate from code!)",
                "MELVIN auto-detected the \"tetra\" context",
                "Tetra-specific knowledge loaded automatically"
              ]
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "cd ~/tetra"
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "source ~/tetra/tetra.sh"
        },
        {
          "type": "output-success",
          "content": "✓ Tetra initialized"
        },
        {
          "type": "output",
          "content": "TETRA_SRC=/Users/you/tetra"
        },
        {
          "type": "output",
          "content": "TETRA_DIR=/Users/you/tetra_dir"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "source \"$TETRA_SRC/bash/melvin/includes.sh\""
        },
        {
          "type": "output-success",
          "content": "✓ MELVIN loaded"
        },
        {
          "type": "output",
          "content": "Context: tetra"
        },
        {
          "type": "output",
          "content": "Root: /Users/you/tetra"
        }
      ]
    },
    {
      "id": "health-check",
      "title": "Understand Current Architecture",
      "content": [
        {
          "type": "paragraph",
          "text": "Before building anything new, let's understand what's already there. MELVIN's `health summary` command classifies all modules in the codebase."
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "Run the health check:"
            },
            {
              "type": "command-block",
              "commands": [
                "melvin health summary"
              ]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "Understanding Module Types",
          "content": [
            {
              "type": "paragraph",
              "text": "MELVIN classifies modules into four types:"
            },
            {
              "type": "list",
              "items": [
                "LIBRARY: Has only includes.sh (provides functions, no CLI)",
                "MODULE: Has actions.sh (provides user commands)",
                "APP: Has *_tui.sh (provides TUI interface)",
                "APP+MODULE: Has both actions and TUI"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "We're going to build a MODULE - something with user-facing commands for managing developer notes."
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "melvin health summary"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-header",
          "content": "MELVIN Health Summary"
        },
        {
          "type": "output-header",
          "content": "====================="
        },
        {
          "type": "output",
          "content": "Modules found in: /Users/you/tetra/bash"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "Type Counts:"
        },
        {
          "type": "output-success",
          "content": "  LIBRARY:      8 modules"
        },
        {
          "type": "output-success",
          "content": "  MODULE:      12 modules (with actions.sh)"
        },
        {
          "type": "output-success",
          "content": "  APP:          3 modules (with TUI)"
        },
        {
          "type": "output-success",
          "content": "  APP+MODULE:   2 modules"
        },
        {
          "type": "output-warning",
          "content": "  UNKNOWN:      1 directories"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "Total: 26 directories classified"
        }
      ]
    },
    {
      "id": "concepts",
      "title": "Learn the Tetra Way",
      "content": [
        {
          "type": "paragraph",
          "text": "Tetra has strong opinions about how modules should be structured. These aren't arbitrary rules - they ensure consistency, testability, and maintainability."
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "List all available concepts:"
            },
            {
              "type": "command-block",
              "commands": [
                "melvin concepts"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "You'll see concepts like `strong_globals`, `no_dotfiles`, `lazy_loading`, and more. These are the patterns you need to follow."
        },
        {
          "type": "learn-box",
          "title": "Key Concepts Preview",
          "content": [
            {
              "type": "list",
              "items": [
                "strong_globals: Every module declares MOD_SRC and MOD_DIR",
                "no_dotfiles: NEVER use hidden config files",
                "dual_directory: Code in TETRA_SRC, data in TETRA_DIR",
                "module_structure: Standard file layout"
              ]
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "melvin concepts"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-header",
          "content": "Available Concepts:"
        },
        {
          "type": "output-header",
          "content": "==================="
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "strong_globals        - TETRA_SRC must always be set..."
        },
        {
          "type": "output",
          "content": "no_dotfiles          - NEVER use . (dot) files in tetra..."
        },
        {
          "type": "output",
          "content": "lazy_loading         - Modules registered but not loaded..."
        },
        {
          "type": "output",
          "content": "dual_directory       - Code vs data separation..."
        },
        {
          "type": "output",
          "content": "includes_guard       - Override guards pattern..."
        },
        {
          "type": "output",
          "content": "module_types         - LIBRARY, MODULE, APP, APP+MODULE"
        },
        {
          "type": "output",
          "content": "boot_chain           - Bootstrap sequence..."
        },
        {
          "type": "output",
          "content": "bash_version         - Tetra ALWAYS runs in bash 5.2+..."
        },
        {
          "type": "output",
          "content": "module_structure     - Standard file layout..."
        },
        {
          "type": "output",
          "content": "tetra_self           - Introspection module..."
        }
      ]
    },
    {
      "id": "strong-globals",
      "title": "Deep Dive: Strong Globals",
      "content": [
        {
          "type": "paragraph",
          "text": "The most important pattern is strong_globals. Let's understand it deeply because you'll use it in every module you build."
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "Get detailed explanation:"
            },
            {
              "type": "command-block",
              "commands": [
                "melvin concepts strong_globals"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "MELVIN will show you:"
        },
        {
          "type": "list",
          "items": [
            "Why TETRA_SRC must always be set",
            "The pattern: `: \"${MOD_SRC:=$TETRA_SRC/bash/modname}\"`",
            "Real examples from the codebase",
            "Why we separate source (MOD_SRC) from data (MOD_DIR)"
          ]
        },
        {
          "type": "learn-box",
          "title": "The Pattern You'll Use",
          "content": [
            {
              "type": "paragraph",
              "text": "For our notes module, we'll write:"
            },
            {
              "type": "code-block",
              "language": "bash",
              "code": ": \"${NOTES_SRC:=$TETRA_SRC/bash/notes}\"\n: \"${NOTES_DIR:=$TETRA_DIR/notes}\"\nexport NOTES_SRC NOTES_DIR"
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "melvin concepts strong_globals"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-header",
          "content": "Concept: strong_globals"
        },
        {
          "type": "output-header",
          "content": "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "TETRA_SRC is the bedrock - it MUST be set for anything to work."
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "Every module follows this pattern:"
        },
        {
          "type": "output",
          "content": "  : \"${MOD_SRC:=$TETRA_SRC/bash/modname}\"",
          "highlight": true
        },
        {
          "type": "output",
          "content": "  : \"${MOD_DIR:=$TETRA_DIR/modname}\"",
          "highlight": true
        },
        {
          "type": "output",
          "content": "  export MOD_SRC MOD_DIR",
          "highlight": true
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "Why?"
        },
        {
          "type": "output",
          "content": "  • MOD_SRC = source code (read-only, in git)"
        },
        {
          "type": "output",
          "content": "  • MOD_DIR = runtime data (read-write, ephemeral)"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "Examples from codebase:"
        },
        {
          "type": "output-success",
          "content": "  • bash/rag/includes.sh:7"
        },
        {
          "type": "output-success",
          "content": "  • bash/melvin/includes.sh:9"
        },
        {
          "type": "output-success",
          "content": "  • bash/chroma/includes.sh:5"
        }
      ]
    },
    {
      "id": "study-example",
      "title": "Study a Similar Module",
      "content": [
        {
          "type": "paragraph",
          "text": "Learning by example is powerful. Let's look at the RAG module - it's a well-structured MODULE that we can learn from."
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "Get detailed analysis of the RAG module:"
            },
            {
              "type": "command-block",
              "commands": [
                "melvin explain rag"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "MELVIN shows you everything about the module:"
        },
        {
          "type": "list",
          "items": [
            "Its classification (MODULE)",
            "Which strong globals it defines (RAG_SRC, RAG_DIR)",
            "What functions it exports",
            "Whether it's registered in the boot system",
            "Lines of code and last modification date"
          ]
        },
        {
          "type": "learn-box",
          "title": "Module Anatomy",
          "content": [
            {
              "type": "paragraph",
              "text": "Notice the RAG module has:"
            },
            {
              "type": "list",
              "items": [
                "includes.sh: Entry point, defines globals",
                "rag.sh: Core functions",
                "actions.sh: CLI interface (makes it a MODULE)",
                "rag_repl.sh: Optional interactive mode"
              ]
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "melvin explain rag"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-header",
          "content": "bash/rag: MODULE"
        },
        {
          "type": "output",
          "content": "  Has actions.sh (with REPL)"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "Description:"
        },
        {
          "type": "output",
          "content": "  RAG (Retrieval-Augmented Generation) system"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "Features: includes actions repl"
        },
        {
          "type": "output-success",
          "content": "Strong globals: RAG_SRC RAG_DIR ✓"
        },
        {
          "type": "output",
          "content": "Exported functions:"
        },
        {
          "type": "output",
          "content": "  - rag_repl"
        },
        {
          "type": "output",
          "content": "  - tetra_rag_search"
        },
        {
          "type": "output",
          "content": "  - tetra_rag_chunks"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "LOC: ~2500 lines"
        },
        {
          "type": "output",
          "content": "Last modified: 2025-11-21"
        },
        {
          "type": "output-success",
          "content": "Registered: ✓ boot_modules.sh:44"
        }
      ]
    },
    {
      "id": "create-structure",
      "title": "Create the Module Structure",
      "content": [
        {
          "type": "paragraph",
          "text": "Now you know the patterns. Let's create our `notes` module. We'll start with the directory and the most important file: `includes.sh`"
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "Create the module directory:"
            },
            {
              "type": "command-block",
              "commands": [
                "mkdir -p \"$TETRA_SRC/bash/notes\""
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Now create `includes.sh` - this is your module's entry point. It must define strong globals and source the core file."
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "Create includes.sh with strong globals pattern:"
            },
            {
              "type": "code-block",
              "language": "bash",
              "code": "cat > \"$TETRA_SRC/bash/notes/includes.sh\" <<'EOF'\n#!/usr/bin/env bash\n\n: \"${NOTES_SRC:=$TETRA_SRC/bash/notes}\"\n: \"${NOTES_DIR:=$TETRA_DIR/notes}\"\nexport NOTES_SRC NOTES_DIR\n\nsource \"$NOTES_SRC/notes.sh\"\nEOF"
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "mkdir -p \"$TETRA_SRC/bash/notes\""
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "cat > \"$TETRA_SRC/bash/notes/includes.sh\" <<'EOF'"
        },
        {
          "type": "output",
          "content": "#!/usr/bin/env bash"
        },
        {
          "type": "output",
          "content": ""
        },
        {
          "type": "output",
          "content": ": \"${NOTES_SRC:=$TETRA_SRC/bash/notes}\"",
          "highlight": true
        },
        {
          "type": "output",
          "content": ": \"${NOTES_DIR:=$TETRA_DIR/notes}\"",
          "highlight": true
        },
        {
          "type": "output",
          "content": "export NOTES_SRC NOTES_DIR",
          "highlight": true
        },
        {
          "type": "output",
          "content": ""
        },
        {
          "type": "output",
          "content": "source \"$NOTES_SRC/notes.sh\""
        },
        {
          "type": "output",
          "content": "EOF"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-success",
          "content": "✓ includes.sh created with strong globals pattern"
        }
      ]
    },
    {
      "id": "core-functions",
      "title": "Add Core Functions",
      "content": [
        {
          "type": "paragraph",
          "text": "The `notes.sh` file contains your module's core logic. We'll keep it simple but functional."
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "Create notes.sh with basic functions:"
            },
            {
              "type": "code-block",
              "language": "bash",
              "code": "cat > \"$TETRA_SRC/bash/notes/notes.sh\" <<'EOF'\n#!/usr/bin/env bash\n\nnotes_init() {\n  mkdir -p \"$NOTES_DIR\"\n  echo \"Notes initialized at: $NOTES_DIR\"\n}\n\nnotes_add() {\n  local note=\"$1\"\n  local timestamp=$(date +\"%Y-%m-%d %H:%M:%S\")\n  echo \"[$timestamp] $note\" >> \"$NOTES_DIR/notes.log\"\n  echo \"Note added.\"\n}\n\nnotes_list() {\n  [[ -f \"$NOTES_DIR/notes.log\" ]] && cat \"$NOTES_DIR/notes.log\"\n}\n\nexport -f notes_init notes_add notes_list\nEOF"
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "Notice the Pattern",
          "content": [
            {
              "type": "list",
              "items": [
                "Functions prefixed with module name: `notes_*`",
                "Data stored in `$NOTES_DIR` (not in source!)",
                "Functions exported with `export -f`"
              ]
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "cat > \"$TETRA_SRC/bash/notes/notes.sh\" <<'EOF'"
        },
        {
          "type": "output",
          "content": "#!/usr/bin/env bash"
        },
        {
          "type": "output",
          "content": ""
        },
        {
          "type": "output",
          "content": "notes_init() {"
        },
        {
          "type": "output",
          "content": "  mkdir -p \"$NOTES_DIR\"",
          "highlight": true
        },
        {
          "type": "output",
          "content": "  echo \"Notes initialized at: $NOTES_DIR\""
        },
        {
          "type": "output",
          "content": "}"
        },
        {
          "type": "output",
          "content": ""
        },
        {
          "type": "output",
          "content": "notes_add() {"
        },
        {
          "type": "output",
          "content": "  local timestamp=$(date +\"%Y-%m-%d %H:%M:%S\")"
        },
        {
          "type": "output",
          "content": "  echo \"[$timestamp] $1\" >> \"$NOTES_DIR/notes.log\"",
          "highlight": true
        },
        {
          "type": "output",
          "content": "}"
        },
        {
          "type": "output",
          "content": ""
        },
        {
          "type": "output",
          "content": "export -f notes_init notes_add notes_list",
          "highlight": true
        },
        {
          "type": "output",
          "content": "EOF"
        }
      ]
    },
    {
      "id": "actions-interface",
      "title": "Add Actions Interface",
      "content": [
        {
          "type": "paragraph",
          "text": "The `actions.sh` file is what makes this a MODULE. It provides the user-facing CLI interface."
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "Create actions.sh with command dispatcher:"
            },
            {
              "type": "code-block",
              "language": "bash",
              "code": "cat > \"$TETRA_SRC/bash/notes/actions.sh\" <<'EOF'\n#!/usr/bin/env bash\n\nnotes() {\n  local action=\"${1:-list}\"\n  shift || true\n  case \"$action\" in\n    init) notes_init \"$@\" ;;\n    add|a) notes_add \"$@\" ;;\n    list|l) notes_list \"$@\" ;;\n    help|h) echo \"Usage: notes {init|add|list}\" ;;\n    *) echo \"Unknown: $action\"; return 1 ;;\n  esac\n}\nexport -f notes\nEOF"
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Make the files executable:"
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "chmod +x \"$TETRA_SRC/bash/notes\"/*.sh"
              ]
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "cat > \"$TETRA_SRC/bash/notes/actions.sh\" <<'EOF'"
        },
        {
          "type": "output",
          "content": "#!/usr/bin/env bash"
        },
        {
          "type": "output",
          "content": ""
        },
        {
          "type": "output",
          "content": "notes() {",
          "highlight": true
        },
        {
          "type": "output",
          "content": "  local action=\"${1:-list}\""
        },
        {
          "type": "output",
          "content": "  shift || true"
        },
        {
          "type": "output",
          "content": "  case \"$action\" in"
        },
        {
          "type": "output",
          "content": "    init) notes_init \"$@\" ;;"
        },
        {
          "type": "output",
          "content": "    add|a) notes_add \"$@\" ;;"
        },
        {
          "type": "output",
          "content": "    list|l) notes_list \"$@\" ;;"
        },
        {
          "type": "output",
          "content": "    *) echo \"Unknown: $action\"; return 1 ;;"
        },
        {
          "type": "output",
          "content": "  esac"
        },
        {
          "type": "output",
          "content": "}"
        },
        {
          "type": "output",
          "content": "EOF"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "chmod +x \"$TETRA_SRC/bash/notes\"/*.sh"
        },
        {
          "type": "output-success",
          "content": "✓ Module structure complete!"
        }
      ]
    },
    {
      "id": "verify",
      "title": "Verify with MELVIN",
      "content": [
        {
          "type": "paragraph",
          "text": "Now for the moment of truth! Let's see if MELVIN recognizes our module as a proper MODULE."
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "Classify your new module:"
            },
            {
              "type": "command-block",
              "commands": [
                "melvin classify notes"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "MELVIN should classify it as a MODULE because it found `includes.sh` and `actions.sh`. Success!"
        },
        {
          "type": "paragraph",
          "text": "Now let's get a detailed health report:"
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "Get health check for notes module:"
            },
            {
              "type": "command-block",
              "commands": [
                "melvin health notes"
              ]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "MELVIN's Recommendations",
          "content": [
            {
              "type": "paragraph",
              "text": "MELVIN might suggest:"
            },
            {
              "type": "list",
              "items": [
                "Add README.md for documentation",
                "Register in boot_modules.sh for lazy loading",
                "Consider adding notes_repl.sh for interactive mode"
              ]
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "melvin classify notes"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-header",
          "content": "bash/notes: MODULE"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "Classification reasoning:"
        },
        {
          "type": "output-success",
          "content": "  ✓ Has includes.sh"
        },
        {
          "type": "output-success",
          "content": "  ✓ Has actions.sh"
        },
        {
          "type": "output",
          "content": "  ○ No REPL file (*_repl.sh)"
        },
        {
          "type": "output",
          "content": "  ○ No TUI file (*_tui.sh)"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-success",
          "content": "Type: MODULE ✓"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "melvin health notes"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-success",
          "content": "Strong globals: NOTES_SRC NOTES_DIR ✓"
        },
        {
          "type": "output-warning",
          "content": "Boot registered: ✗ (not in boot_modules.sh)"
        },
        {
          "type": "output",
          "content": "Recommendations:"
        },
        {
          "type": "output",
          "content": "  • Add README.md"
        },
        {
          "type": "output",
          "content": "  • Register in boot_modules.sh"
        }
      ]
    },
    {
      "id": "test",
      "title": "Test Your Module",
      "content": [
        {
          "type": "paragraph",
          "text": "Let's actually use the module! First, source it to make it available:"
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "paragraph",
              "text": "Load your module:"
            },
            {
              "type": "command-block",
              "commands": [
                "source \"$TETRA_SRC/bash/notes/includes.sh\""
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Now initialize the notes system:"
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "notes init"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Add your first note:"
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "notes add \"MELVIN helped me build this the tetra way!\""
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "List your notes:"
        },
        {
          "type": "you-try",
          "title": "You Try",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "notes list"
              ]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "It Works!",
          "content": [
            {
              "type": "paragraph",
              "text": "Your module is fully functional and follows all tetra patterns:"
            },
            {
              "type": "list",
              "items": [
                "✓ Strong globals (NOTES_SRC, NOTES_DIR)",
                "✓ Dual directory (code vs data separation)",
                "✓ Module structure (includes.sh, notes.sh, actions.sh)",
                "✓ Proper classification (MODULE type)"
              ]
            }
          ]
        }
      ],
      "terminal": [
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "source \"$TETRA_SRC/bash/notes/includes.sh\""
        },
        {
          "type": "output-success",
          "content": "✓ Module loaded"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "notes init"
        },
        {
          "type": "output",
          "content": "Notes initialized at: /Users/you/tetra_dir/notes"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "notes add \"MELVIN helped me build this the tetra way!\""
        },
        {
          "type": "output-success",
          "content": "Note added."
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "notes list"
        },
        {
          "type": "output",
          "content": "[2025-11-21 14:30:00] MELVIN helped me build this the tetra way!",
          "highlight": true
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-success",
          "content": "✓ Module works perfectly!"
        }
      ]
    },
    {
      "id": "conclusion",
      "title": "You've Learned the Tetra Way!",
      "content": [
        {
          "type": "paragraph",
          "text": "Congratulations! You've successfully built a tetra module using MELVIN as your guide."
        },
        {
          "type": "learn-box",
          "title": "What You Mastered",
          "content": [
            {
              "type": "list",
              "items": [
                "Strong Globals: MOD_SRC and MOD_DIR pattern",
                "Module Types: Understanding LIBRARY vs MODULE vs APP",
                "File Structure: includes.sh, core.sh, actions.sh",
                "MELVIN Commands: health, explain, classify, concepts",
                "Tetra Philosophy: No dotfiles, dual directories, explicit exports"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Next Steps - Take your module further:"
        },
        {
          "type": "list",
          "items": [
            "Add `notes_repl.sh` for interactive mode",
            "Create `README.md` documentation",
            "Register in `bash/boot/boot_modules.sh` for lazy loading",
            "Add tests in `tests/` directory"
          ]
        },
        {
          "type": "you-try",
          "title": "Explore More",
          "content": [
            {
              "type": "paragraph",
              "text": "Try these MELVIN commands:"
            },
            {
              "type": "command-block",
              "commands": [
                "melvin repl           # Interactive exploration",
                "melvin stats          # Your learning progress",
                "melvin concepts       # Review all patterns",
                "melvin list MODULE    # See all modules"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "MELVIN: Machine Electronics Live Virtual Intelligence Network - Precision above all."
        }
      ],
      "terminal": [
        {
          "type": "output-header",
          "content": "Congratulations!"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output-success",
          "content": "You built a complete tetra module following all patterns:"
        },
        {
          "type": "output-success",
          "content": "  ✓ Strong globals (NOTES_SRC, NOTES_DIR)"
        },
        {
          "type": "output-success",
          "content": "  ✓ Module structure (includes.sh, notes.sh, actions.sh)"
        },
        {
          "type": "output-success",
          "content": "  ✓ Proper classification (MODULE type)"
        },
        {
          "type": "output-success",
          "content": "  ✓ Dual directory separation"
        },
        {
          "type": "output-success",
          "content": "  ✓ Function exports"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "comment",
          "content": "# Keep exploring with MELVIN:"
        },
        {
          "type": "prompt",
          "content": "$ ",
          "inline": true
        },
        {
          "type": "command",
          "content": "melvin repl"
        },
        {
          "type": "comment",
          "content": "# Try other modules, learn more patterns!"
        },
        {
          "type": "blank",
          "content": ""
        },
        {
          "type": "output",
          "content": "MELVIN: Machine Electronics Live Virtual Intelligence Network"
        },
        {
          "type": "output",
          "content": "Precision above all."
        }
      ]
    }
  ],
  "glossary": {
    "TETRA_SRC": {
      "term": "TETRA_SRC",
      "definition": "Strong global pointing to tetra source code directory (read-only, in git)"
    },
    "TETRA_DIR": {
      "term": "TETRA_DIR",
      "definition": "Strong global pointing to tetra runtime data directory (read-write, ephemeral)"
    },
    "strong_globals": {
      "term": "Strong Globals",
      "definition": "Environment variables that must be set for tetra to work. Every module defines MOD_SRC and MOD_DIR."
    },
    "includes.sh": {
      "term": "includes.sh",
      "definition": "Module entry point file that defines strong globals and sources core functionality"
    },
    "actions.sh": {
      "term": "actions.sh",
      "definition": "File that provides CLI interface, making a module user-facing (MODULE type)"
    }
  }
}
