<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MELVIN Interactive Tutorial</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: start;
        }

        .panel {
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
            min-height: 600px;
        }

        .panel-header {
            padding: 1rem 1.5rem;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .narrative-panel .panel-header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .terminal-panel .panel-header {
            background: #2d2d2d;
            color: #00ff00;
            font-family: 'Courier New', monospace;
        }

        /* Narrative Styles */
        .narrative-content {
            padding: 2rem;
            line-height: 1.8;
        }

        .step {
            margin-bottom: 3rem;
            display: none;
        }

        .step.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step-number {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .step h2 {
            color: #2d3748;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .step p {
            margin-bottom: 1rem;
            color: #4a5568;
        }

        .you-try {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border-left: 4px solid #e17055;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
        }

        .you-try-header {
            font-weight: 700;
            color: #d63031;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .you-try-header::before {
            content: "üëâ";
            font-size: 1.3rem;
        }

        .you-try p {
            color: #2d3748;
            margin-bottom: 0.5rem;
        }

        .command-hint {
            background: rgba(0,0,0,0.1);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #2d3748;
            margin-top: 0.5rem;
        }

        .learn-box {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-left: 4px solid #6c5ce7;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
        }

        .learn-box-header {
            font-weight: 700;
            color: #6c5ce7;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .learn-box-header::before {
            content: "üí°";
            font-size: 1.3rem;
        }

        .learn-box ul {
            margin-left: 1.5rem;
            color: #2d3748;
        }

        .learn-box li {
            margin-bottom: 0.3rem;
        }

        /* Terminal Styles */
        .terminal-window {
            background: #1e1e1e;
            height: 100%;
            min-height: 600px;
            font-family: 'Courier New', Monaco, monospace;
            font-size: 14px;
            position: relative;
        }

        .terminal-titlebar {
            background: #2d2d2d;
            padding: 0.5rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border-bottom: 1px solid #444;
        }

        .terminal-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .dot-red { background: #ff5f56; }
        .dot-yellow { background: #ffbd2e; }
        .dot-green { background: #27c93f; }

        .terminal-title {
            margin-left: 1rem;
            color: #999;
            font-size: 0.8rem;
        }

        .terminal-content {
            padding: 1.5rem;
            color: #d4d4d4;
            overflow-y: auto;
            max-height: calc(600px - 50px);
        }

        .terminal-line {
            margin-bottom: 0.5rem;
            display: none;
        }

        .terminal-line.visible {
            display: block;
            animation: terminalFadeIn 0.3s ease-in;
        }

        @keyframes terminalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .prompt {
            color: #00ff00;
        }

        .command {
            color: #4ec9b0;
        }

        .output {
            color: #ce9178;
        }

        .output-header {
            color: #569cd6;
            font-weight: bold;
        }

        .output-success {
            color: #4ec9b0;
        }

        .output-warning {
            color: #dcdcaa;
        }

        .output-error {
            color: #f48771;
        }

        .comment {
            color: #6a9955;
        }

        .highlight {
            background: rgba(255, 255, 0, 0.2);
            padding: 0 0.2rem;
        }

        /* Navigation */
        .navigation {
            display: flex;
            gap: 1rem;
            padding: 1.5rem 2rem;
            background: white;
            border-top: 1px solid #e2e8f0;
            position: sticky;
            bottom: 0;
        }

        .nav-button {
            flex: 1;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .nav-prev {
            background: #e2e8f0;
            color: #2d3748;
        }

        .nav-prev:hover:not(:disabled) {
            background: #cbd5e0;
        }

        .nav-next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .nav-next:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .progress {
            text-align: center;
            color: #718096;
            font-size: 0.9rem;
            padding: 0.5rem;
        }

        /* Header */
        .tutorial-header {
            text-align: center;
            color: white;
            margin-bottom: 2rem;
        }

        .tutorial-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .tutorial-header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        code {
            background: rgba(0,0,0,0.1);
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr;
            }

            .terminal-panel {
                position: sticky;
                top: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="tutorial-header">
        <h1>MELVIN Interactive Tutorial</h1>
        <p>Learn the Tetra Way: Build a Notes Module Step-by-Step</p>
    </div>

    <div class="container">
        <!-- Narrative Panel (Left) -->
        <div class="panel narrative-panel">
            <div class="panel-header">üìñ Tutorial Guide</div>
            <div class="narrative-content">

                <!-- Step 0: Introduction -->
                <div class="step active" data-step="0">
                    <span class="step-number">Welcome</span>
                    <h2>Welcome to the MELVIN Tutorial</h2>
                    <p>
                        In this interactive tutorial, you'll learn how to use MELVIN (Machine Electronics Live Virtual Intelligence Network)
                        to build a new tetra module the right way.
                    </p>
                    <p>
                        <strong>What you'll learn:</strong>
                    </p>
                    <ul style="margin-left: 2rem; margin-bottom: 1rem;">
                        <li>How to bootstrap MELVIN in your terminal</li>
                        <li>Understanding tetra's architecture patterns</li>
                        <li>Strong globals, no dotfiles, and module types</li>
                        <li>Building a complete module with MELVIN's guidance</li>
                    </ul>

                    <div class="learn-box">
                        <div class="learn-box-header">Prerequisites</div>
                        <p>Before starting, make sure you have:</p>
                        <ul>
                            <li>Bash 5.2+ installed</li>
                            <li>Tetra cloned and accessible at ~/tetra</li>
                            <li>A terminal window open</li>
                        </ul>
                    </div>

                    <p>
                        The right panel shows a simulated terminal. As you progress through the tutorial,
                        you'll see commands and their output appear there. <strong>You should follow along
                        in your real terminal!</strong>
                    </p>
                </div>

                <!-- Step 1: Bootstrap -->
                <div class="step" data-step="1">
                    <span class="step-number">Step 1</span>
                    <h2>Bootstrap MELVIN</h2>
                    <p>
                        Every tetra session starts the same way: source the tetra environment.
                        This sets up all the strong globals (like <code>TETRA_SRC</code> and <code>TETRA_DIR</code>)
                        that modules depend on.
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>In your terminal, navigate to the tetra directory and source tetra.sh:</p>
                        <div class="command-hint">cd ~/tetra<br>source ~/tetra/tetra.sh</div>
                    </div>

                    <p>
                        Now that tetra is loaded, let's load MELVIN. MELVIN is itself a tetra module,
                        so we source its includes.sh file.
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>Load MELVIN:</p>
                        <div class="command-hint">source "$TETRA_SRC/bash/melvin/includes.sh"</div>
                    </div>

                    <div class="learn-box">
                        <div class="learn-box-header">What Just Happened?</div>
                        <ul>
                            <li><code>TETRA_SRC</code> points to your tetra source code</li>
                            <li><code>TETRA_DIR</code> points to runtime data (separate from code!)</li>
                            <li>MELVIN auto-detected the "tetra" context</li>
                            <li>Tetra-specific knowledge loaded automatically</li>
                        </ul>
                    </div>
                </div>

                <!-- Step 2: Health Check -->
                <div class="step" data-step="2">
                    <span class="step-number">Step 2</span>
                    <h2>Understand Current Architecture</h2>
                    <p>
                        Before building anything new, let's understand what's already there.
                        MELVIN's <code>health summary</code> command classifies all modules in the codebase.
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>Run the health check:</p>
                        <div class="command-hint">melvin health summary</div>
                    </div>

                    <div class="learn-box">
                        <div class="learn-box-header">Understanding Module Types</div>
                        <p>MELVIN classifies modules into four types:</p>
                        <ul>
                            <li><strong>LIBRARY</strong>: Has only includes.sh (provides functions, no CLI)</li>
                            <li><strong>MODULE</strong>: Has actions.sh (provides user commands)</li>
                            <li><strong>APP</strong>: Has *_tui.sh (provides TUI interface)</li>
                            <li><strong>APP+MODULE</strong>: Has both actions and TUI</li>
                        </ul>
                    </div>

                    <p>
                        We're going to build a MODULE - something with user-facing commands for managing developer notes.
                    </p>
                </div>

                <!-- Step 3: Learn Concepts -->
                <div class="step" data-step="3">
                    <span class="step-number">Step 3</span>
                    <h2>Learn the Tetra Way</h2>
                    <p>
                        Tetra has strong opinions about how modules should be structured. These aren't arbitrary rules -
                        they ensure consistency, testability, and maintainability.
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>List all available concepts:</p>
                        <div class="command-hint">melvin concepts</div>
                    </div>

                    <p>
                        You'll see concepts like <code>strong_globals</code>, <code>no_dotfiles</code>,
                        <code>lazy_loading</code>, and more. These are the patterns you need to follow.
                    </p>

                    <div class="learn-box">
                        <div class="learn-box-header">Key Concepts Preview</div>
                        <ul>
                            <li><strong>strong_globals</strong>: Every module declares MOD_SRC and MOD_DIR</li>
                            <li><strong>no_dotfiles</strong>: NEVER use hidden config files</li>
                            <li><strong>dual_directory</strong>: Code in TETRA_SRC, data in TETRA_DIR</li>
                            <li><strong>module_structure</strong>: Standard file layout</li>
                        </ul>
                    </div>
                </div>

                <!-- Step 4: Deep Dive -->
                <div class="step" data-step="4">
                    <span class="step-number">Step 4</span>
                    <h2>Deep Dive: Strong Globals</h2>
                    <p>
                        The most important pattern is <strong>strong_globals</strong>. Let's understand it deeply
                        because you'll use it in every module you build.
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>Get detailed explanation:</p>
                        <div class="command-hint">melvin concepts strong_globals</div>
                    </div>

                    <p>
                        MELVIN will show you:
                    </p>
                    <ul style="margin-left: 2rem; margin-bottom: 1rem;">
                        <li>Why TETRA_SRC must always be set</li>
                        <li>The pattern: <code>: "${MOD_SRC:=$TETRA_SRC/bash/modname}"</code></li>
                        <li>Real examples from the codebase</li>
                        <li>Why we separate source (MOD_SRC) from data (MOD_DIR)</li>
                    </ul>

                    <div class="learn-box">
                        <div class="learn-box-header">The Pattern You'll Use</div>
                        <p>For our notes module, we'll write:</p>
                        <code style="display: block; padding: 1rem; background: rgba(0,0,0,0.2); border-radius: 4px; white-space: pre;">: "${NOTES_SRC:=$TETRA_SRC/bash/notes}"
: "${NOTES_DIR:=$TETRA_DIR/notes}"
export NOTES_SRC NOTES_DIR</code>
                    </div>
                </div>

                <!-- Step 5: Study Example -->
                <div class="step" data-step="5">
                    <span class="step-number">Step 5</span>
                    <h2>Study a Similar Module</h2>
                    <p>
                        Learning by example is powerful. Let's look at the RAG module -
                        it's a well-structured MODULE that we can learn from.
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>Get detailed analysis of the RAG module:</p>
                        <div class="command-hint">melvin explain rag</div>
                    </div>

                    <p>
                        MELVIN shows you everything about the module:
                    </p>
                    <ul style="margin-left: 2rem; margin-bottom: 1rem;">
                        <li>Its classification (MODULE)</li>
                        <li>Which strong globals it defines (RAG_SRC, RAG_DIR)</li>
                        <li>What functions it exports</li>
                        <li>Whether it's registered in the boot system</li>
                        <li>Lines of code and last modification date</li>
                    </ul>

                    <div class="learn-box">
                        <div class="learn-box-header">Module Anatomy</div>
                        <p>Notice the RAG module has:</p>
                        <ul>
                            <li><strong>includes.sh</strong>: Entry point, defines globals</li>
                            <li><strong>rag.sh</strong>: Core functions</li>
                            <li><strong>actions.sh</strong>: CLI interface (makes it a MODULE)</li>
                            <li><strong>rag_repl.sh</strong>: Optional interactive mode</li>
                        </ul>
                    </div>
                </div>

                <!-- Step 6: Create Structure -->
                <div class="step" data-step="6">
                    <span class="step-number">Step 6</span>
                    <h2>Create the Module Structure</h2>
                    <p>
                        Now you know the patterns. Let's create our <code>notes</code> module.
                        We'll start with the directory and the most important file: <code>includes.sh</code>
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>Create the module directory:</p>
                        <div class="command-hint">mkdir -p "$TETRA_SRC/bash/notes"</div>
                    </div>

                    <p>
                        Now create <code>includes.sh</code> - this is your module's entry point.
                        It must define strong globals and source the core file.
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>Create includes.sh with strong globals pattern:</p>
                        <div class="command-hint" style="font-size: 0.8rem;">cat &gt; "$TETRA_SRC/bash/notes/includes.sh" &lt;&lt;'EOF'<br>
#!/usr/bin/env bash<br>
<br>
: "${NOTES_SRC:=$TETRA_SRC/bash/notes}"<br>
: "${NOTES_DIR:=$TETRA_DIR/notes}"<br>
export NOTES_SRC NOTES_DIR<br>
<br>
source "$NOTES_SRC/notes.sh"<br>
EOF</div>
                    </div>
                </div>

                <!-- Step 7: Core Functions -->
                <div class="step" data-step="7">
                    <span class="step-number">Step 7</span>
                    <h2>Add Core Functions</h2>
                    <p>
                        The <code>notes.sh</code> file contains your module's core logic.
                        We'll keep it simple but functional.
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>Create notes.sh with basic functions:</p>
                        <div class="command-hint" style="font-size: 0.8rem;">cat &gt; "$TETRA_SRC/bash/notes/notes.sh" &lt;&lt;'EOF'<br>
#!/usr/bin/env bash<br>
<br>
notes_init() {<br>
&nbsp;&nbsp;mkdir -p "$NOTES_DIR"<br>
&nbsp;&nbsp;echo "Notes initialized at: $NOTES_DIR"<br>
}<br>
<br>
notes_add() {<br>
&nbsp;&nbsp;local note="$1"<br>
&nbsp;&nbsp;local timestamp=$(date +"%Y-%m-%d %H:%M:%S")<br>
&nbsp;&nbsp;echo "[$timestamp] $note" &gt;&gt; "$NOTES_DIR/notes.log"<br>
&nbsp;&nbsp;echo "Note added."<br>
}<br>
<br>
notes_list() {<br>
&nbsp;&nbsp;[[ -f "$NOTES_DIR/notes.log" ]] && cat "$NOTES_DIR/notes.log"<br>
}<br>
<br>
export -f notes_init notes_add notes_list<br>
EOF</div>
                    </div>

                    <div class="learn-box">
                        <div class="learn-box-header">Notice the Pattern</div>
                        <ul>
                            <li>Functions prefixed with module name: <code>notes_*</code></li>
                            <li>Data stored in <code>$NOTES_DIR</code> (not in source!)</li>
                            <li>Functions exported with <code>export -f</code></li>
                        </ul>
                    </div>
                </div>

                <!-- Step 8: Actions Interface -->
                <div class="step" data-step="8">
                    <span class="step-number">Step 8</span>
                    <h2>Add Actions Interface</h2>
                    <p>
                        The <code>actions.sh</code> file is what makes this a MODULE.
                        It provides the user-facing CLI interface.
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>Create actions.sh with command dispatcher:</p>
                        <div class="command-hint" style="font-size: 0.75rem;">cat &gt; "$TETRA_SRC/bash/notes/actions.sh" &lt;&lt;'EOF'<br>
#!/usr/bin/env bash<br>
<br>
notes() {<br>
&nbsp;&nbsp;local action="${1:-list}"<br>
&nbsp;&nbsp;shift || true<br>
&nbsp;&nbsp;case "$action" in<br>
&nbsp;&nbsp;&nbsp;&nbsp;init) notes_init "$@" ;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;add|a) notes_add "$@" ;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;list|l) notes_list "$@" ;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;help|h) echo "Usage: notes {init|add|list}" ;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*) echo "Unknown: $action"; return 1 ;;<br>
&nbsp;&nbsp;esac<br>
}<br>
export -f notes<br>
EOF</div>
                    </div>

                    <p>
                        Make the files executable:
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <div class="command-hint">chmod +x "$TETRA_SRC/bash/notes"/*.sh</div>
                    </div>
                </div>

                <!-- Step 9: Verify -->
                <div class="step" data-step="9">
                    <span class="step-number">Step 9</span>
                    <h2>Verify with MELVIN</h2>
                    <p>
                        Now for the moment of truth! Let's see if MELVIN recognizes our module
                        as a proper MODULE.
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>Classify your new module:</p>
                        <div class="command-hint">melvin classify notes</div>
                    </div>

                    <p>
                        MELVIN should classify it as a MODULE because it found <code>includes.sh</code>
                        and <code>actions.sh</code>. Success!
                    </p>

                    <p>
                        Now let's get a detailed health report:
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>Get health check for notes module:</p>
                        <div class="command-hint">melvin health notes</div>
                    </div>

                    <div class="learn-box">
                        <div class="learn-box-header">MELVIN's Recommendations</div>
                        <p>MELVIN might suggest:</p>
                        <ul>
                            <li>Add README.md for documentation</li>
                            <li>Register in boot_modules.sh for lazy loading</li>
                            <li>Consider adding notes_repl.sh for interactive mode</li>
                        </ul>
                    </div>
                </div>

                <!-- Step 10: Test -->
                <div class="step" data-step="10">
                    <span class="step-number">Step 10</span>
                    <h2>Test Your Module</h2>
                    <p>
                        Let's actually use the module! First, source it to make it available:
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <p>Load your module:</p>
                        <div class="command-hint">source "$TETRA_SRC/bash/notes/includes.sh"</div>
                    </div>

                    <p>
                        Now initialize the notes system:
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <div class="command-hint">notes init</div>
                    </div>

                    <p>
                        Add your first note:
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <div class="command-hint">notes add "MELVIN helped me build this the tetra way!"</div>
                    </div>

                    <p>
                        List your notes:
                    </p>

                    <div class="you-try">
                        <div class="you-try-header">You Try</div>
                        <div class="command-hint">notes list</div>
                    </div>

                    <div class="learn-box">
                        <div class="learn-box-header">It Works!</div>
                        <p>Your module is fully functional and follows all tetra patterns:</p>
                        <ul>
                            <li>‚úì Strong globals (NOTES_SRC, NOTES_DIR)</li>
                            <li>‚úì Dual directory (code vs data separation)</li>
                            <li>‚úì Module structure (includes.sh, notes.sh, actions.sh)</li>
                            <li>‚úì Proper classification (MODULE type)</li>
                        </ul>
                    </div>
                </div>

                <!-- Step 11: Conclusion -->
                <div class="step" data-step="11">
                    <span class="step-number">Conclusion</span>
                    <h2>You've Learned the Tetra Way!</h2>
                    <p>
                        Congratulations! You've successfully built a tetra module using MELVIN as your guide.
                    </p>

                    <div class="learn-box">
                        <div class="learn-box-header">What You Mastered</div>
                        <ul>
                            <li><strong>Strong Globals</strong>: MOD_SRC and MOD_DIR pattern</li>
                            <li><strong>Module Types</strong>: Understanding LIBRARY vs MODULE vs APP</li>
                            <li><strong>File Structure</strong>: includes.sh, core.sh, actions.sh</li>
                            <li><strong>MELVIN Commands</strong>: health, explain, classify, concepts</li>
                            <li><strong>Tetra Philosophy</strong>: No dotfiles, dual directories, explicit exports</li>
                        </ul>
                    </div>

                    <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Next Steps</h3>
                    <p>Take your module further:</p>
                    <ul style="margin-left: 2rem; margin-bottom: 1rem;">
                        <li>Add <code>notes_repl.sh</code> for interactive mode</li>
                        <li>Create <code>README.md</code> documentation</li>
                        <li>Register in <code>bash/boot/boot_modules.sh</code> for lazy loading</li>
                        <li>Add tests in <code>tests/</code> directory</li>
                    </ul>

                    <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Keep Learning with MELVIN</h3>

                    <div class="you-try">
                        <div class="you-try-header">Explore More</div>
                        <p>Try these MELVIN commands:</p>
                        <div class="command-hint">melvin repl           # Interactive exploration<br>
melvin stats          # Your learning progress<br>
melvin concepts       # Review all patterns<br>
melvin list MODULE    # See all modules</div>
                    </div>

                    <p style="margin-top: 2rem; text-align: center; font-weight: bold; color: #667eea;">
                        MELVIN: Machine Electronics Live Virtual Intelligence Network<br>
                        <em style="font-weight: normal; font-size: 0.9rem;">Precision above all. üéØ</em>
                    </p>
                </div>

            </div>
            <div class="navigation">
                <button class="nav-button nav-prev" onclick="prevStep()" id="prevBtn" disabled>‚Üê Previous</button>
                <div class="progress" id="progress">Step 1 of 12</div>
                <button class="nav-button nav-next" onclick="nextStep()" id="nextBtn">Next ‚Üí</button>
            </div>
        </div>

        <!-- Terminal Panel (Right) -->
        <div class="panel terminal-panel">
            <div class="panel-header">üíª Terminal Output</div>
            <div class="terminal-window">
                <div class="terminal-titlebar">
                    <div class="terminal-dot dot-red"></div>
                    <div class="terminal-dot dot-yellow"></div>
                    <div class="terminal-dot dot-green"></div>
                    <div class="terminal-title">bash - melvin-tutorial</div>
                </div>
                <div class="terminal-content" id="terminal">
                    <!-- Terminal content will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 0;
        const totalSteps = 11;

        // Terminal content for each step
        const terminalContent = {
            0: [
                { type: 'comment', text: '# Welcome! Ready to learn the tetra way?' },
                { type: 'comment', text: '# Keep this browser tab open alongside your terminal' },
                { type: 'comment', text: '# Click "Next" when ready to begin ‚Üí' }
            ],
            1: [
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'cd ~/tetra' },
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'source ~/tetra/tetra.sh' },
                { type: 'output-success', text: '‚úì Tetra initialized' },
                { type: 'output', text: 'TETRA_SRC=/Users/you/tetra' },
                { type: 'output', text: 'TETRA_DIR=/Users/you/tetra_dir' },
                { type: 'blank' },
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'source "$TETRA_SRC/bash/melvin/includes.sh"' },
                { type: 'output-success', text: '‚úì MELVIN loaded' },
                { type: 'output', text: 'Context: tetra' },
                { type: 'output', text: 'Root: /Users/you/tetra' }
            ],
            2: [
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'melvin health summary' },
                { type: 'blank' },
                { type: 'output-header', text: 'MELVIN Health Summary' },
                { type: 'output-header', text: '=====================' },
                { type: 'output', text: 'Modules found in: /Users/you/tetra/bash' },
                { type: 'blank' },
                { type: 'output', text: 'Type Counts:' },
                { type: 'output-success', text: '  LIBRARY:      8 modules' },
                { type: 'output-success', text: '  MODULE:      12 modules (with actions.sh)' },
                { type: 'output-success', text: '  APP:          3 modules (with TUI)' },
                { type: 'output-success', text: '  APP+MODULE:   2 modules' },
                { type: 'output-warning', text: '  UNKNOWN:      1 directories' },
                { type: 'blank' },
                { type: 'output', text: 'Total: 26 directories classified' }
            ],
            3: [
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'melvin concepts' },
                { type: 'blank' },
                { type: 'output-header', text: 'Available Concepts:' },
                { type: 'output-header', text: '===================' },
                { type: 'blank' },
                { type: 'output', text: 'strong_globals        - TETRA_SRC must always be set...' },
                { type: 'output', text: 'no_dotfiles          - NEVER use . (dot) files in tetra...' },
                { type: 'output', text: 'lazy_loading         - Modules registered but not loaded...' },
                { type: 'output', text: 'dual_directory       - Code vs data separation...' },
                { type: 'output', text: 'includes_guard       - Override guards pattern...' },
                { type: 'output', text: 'module_types         - LIBRARY, MODULE, APP, APP+MODULE' },
                { type: 'output', text: 'boot_chain           - Bootstrap sequence...' },
                { type: 'output', text: 'bash_version         - Tetra ALWAYS runs in bash 5.2+...' },
                { type: 'output', text: 'module_structure     - Standard file layout...' },
                { type: 'output', text: 'tetra_self           - Introspection module...' }
            ],
            4: [
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'melvin concepts strong_globals' },
                { type: 'blank' },
                { type: 'output-header', text: 'üéì Concept: strong_globals' },
                { type: 'output-header', text: '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ' },
                { type: 'blank' },
                { type: 'output', text: 'TETRA_SRC is the bedrock - it MUST be set for anything to work.' },
                { type: 'blank' },
                { type: 'output', text: 'Every module follows this pattern:' },
                { type: 'output', text: '  : "${MOD_SRC:=$TETRA_SRC/bash/modname}"', highlight: true },
                { type: 'output', text: '  : "${MOD_DIR:=$TETRA_DIR/modname}"', highlight: true },
                { type: 'output', text: '  export MOD_SRC MOD_DIR', highlight: true },
                { type: 'blank' },
                { type: 'output', text: 'Why?' },
                { type: 'output', text: '  ‚Ä¢ MOD_SRC = source code (read-only, in git)' },
                { type: 'output', text: '  ‚Ä¢ MOD_DIR = runtime data (read-write, ephemeral)' },
                { type: 'blank' },
                { type: 'output', text: 'Examples from codebase:' },
                { type: 'output-success', text: '  ‚Ä¢ bash/rag/includes.sh:7' },
                { type: 'output-success', text: '  ‚Ä¢ bash/melvin/includes.sh:9' },
                { type: 'output-success', text: '  ‚Ä¢ bash/chroma/includes.sh:5' }
            ],
            5: [
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'melvin explain rag' },
                { type: 'blank' },
                { type: 'output-header', text: 'bash/rag: MODULE' },
                { type: 'output', text: '  Has actions.sh (with REPL)' },
                { type: 'blank' },
                { type: 'output', text: 'Description:' },
                { type: 'output', text: '  RAG (Retrieval-Augmented Generation) system' },
                { type: 'blank' },
                { type: 'output', text: 'Features: includes actions repl' },
                { type: 'output-success', text: 'Strong globals: RAG_SRC RAG_DIR ‚úì' },
                { type: 'output', text: 'Exported functions:' },
                { type: 'output', text: '  - rag_repl' },
                { type: 'output', text: '  - tetra_rag_search' },
                { type: 'output', text: '  - tetra_rag_chunks' },
                { type: 'blank' },
                { type: 'output', text: 'LOC: ~2500 lines' },
                { type: 'output', text: 'Last modified: 2025-11-21' },
                { type: 'output-success', text: 'Registered: ‚úì boot_modules.sh:44' }
            ],
            6: [
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'mkdir -p "$TETRA_SRC/bash/notes"' },
                { type: 'blank' },
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'cat > "$TETRA_SRC/bash/notes/includes.sh" <<\'EOF\'' },
                { type: 'output', text: '#!/usr/bin/env bash' },
                { type: 'output', text: '' },
                { type: 'output', text: ': "${NOTES_SRC:=$TETRA_SRC/bash/notes}"', highlight: true },
                { type: 'output', text: ': "${NOTES_DIR:=$TETRA_DIR/notes}"', highlight: true },
                { type: 'output', text: 'export NOTES_SRC NOTES_DIR', highlight: true },
                { type: 'output', text: '' },
                { type: 'output', text: 'source "$NOTES_SRC/notes.sh"' },
                { type: 'output', text: 'EOF' },
                { type: 'blank' },
                { type: 'output-success', text: '‚úì includes.sh created with strong globals pattern' }
            ],
            7: [
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'cat > "$TETRA_SRC/bash/notes/notes.sh" <<\'EOF\'' },
                { type: 'output', text: '#!/usr/bin/env bash' },
                { type: 'output', text: '' },
                { type: 'output', text: 'notes_init() {' },
                { type: 'output', text: '  mkdir -p "$NOTES_DIR"', highlight: true },
                { type: 'output', text: '  echo "Notes initialized at: $NOTES_DIR"' },
                { type: 'output', text: '}' },
                { type: 'output', text: '' },
                { type: 'output', text: 'notes_add() {' },
                { type: 'output', text: '  local timestamp=$(date +"%Y-%m-%d %H:%M:%S")' },
                { type: 'output', text: '  echo "[$timestamp] $1" >> "$NOTES_DIR/notes.log"', highlight: true },
                { type: 'output', text: '}' },
                { type: 'output', text: '' },
                { type: 'output', text: 'export -f notes_init notes_add notes_list', highlight: true },
                { type: 'output', text: 'EOF' }
            ],
            8: [
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'cat > "$TETRA_SRC/bash/notes/actions.sh" <<\'EOF\'' },
                { type: 'output', text: '#!/usr/bin/env bash' },
                { type: 'output', text: '' },
                { type: 'output', text: 'notes() {', highlight: true },
                { type: 'output', text: '  local action="${1:-list}"' },
                { type: 'output', text: '  shift || true' },
                { type: 'output', text: '  case "$action" in' },
                { type: 'output', text: '    init) notes_init "$@" ;;' },
                { type: 'output', text: '    add|a) notes_add "$@" ;;' },
                { type: 'output', text: '    list|l) notes_list "$@" ;;' },
                { type: 'output', text: '    *) echo "Unknown: $action"; return 1 ;;' },
                { type: 'output', text: '  esac' },
                { type: 'output', text: '}' },
                { type: 'output', text: 'EOF' },
                { type: 'blank' },
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'chmod +x "$TETRA_SRC/bash/notes"/*.sh' },
                { type: 'output-success', text: '‚úì Module structure complete!' }
            ],
            9: [
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'melvin classify notes' },
                { type: 'blank' },
                { type: 'output-header', text: 'bash/notes: MODULE' },
                { type: 'blank' },
                { type: 'output', text: 'Classification reasoning:' },
                { type: 'output-success', text: '  ‚úì Has includes.sh' },
                { type: 'output-success', text: '  ‚úì Has actions.sh' },
                { type: 'output', text: '  ‚óã No REPL file (*_repl.sh)' },
                { type: 'output', text: '  ‚óã No TUI file (*_tui.sh)' },
                { type: 'blank' },
                { type: 'output-success', text: 'Type: MODULE ‚úì' },
                { type: 'blank' },
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'melvin health notes' },
                { type: 'blank' },
                { type: 'output-success', text: 'Strong globals: NOTES_SRC NOTES_DIR ‚úì' },
                { type: 'output-warning', text: 'Boot registered: ‚úó (not in boot_modules.sh)' },
                { type: 'output', text: 'Recommendations:' },
                { type: 'output', text: '  ‚Ä¢ Add README.md' },
                { type: 'output', text: '  ‚Ä¢ Register in boot_modules.sh' }
            ],
            10: [
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'source "$TETRA_SRC/bash/notes/includes.sh"' },
                { type: 'output-success', text: '‚úì Module loaded' },
                { type: 'blank' },
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'notes init' },
                { type: 'output', text: 'Notes initialized at: /Users/you/tetra_dir/notes' },
                { type: 'blank' },
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'notes add "MELVIN helped me build this the tetra way!"' },
                { type: 'output-success', text: 'Note added.' },
                { type: 'blank' },
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'notes list' },
                { type: 'output', text: '[2025-11-21 14:30:00] MELVIN helped me build this the tetra way!', highlight: true },
                { type: 'blank' },
                { type: 'output-success', text: '‚úì Module works perfectly!' }
            ],
            11: [
                { type: 'output-header', text: 'üéâ Congratulations!' },
                { type: 'blank' },
                { type: 'output-success', text: 'You built a complete tetra module following all patterns:' },
                { type: 'output-success', text: '  ‚úì Strong globals (NOTES_SRC, NOTES_DIR)' },
                { type: 'output-success', text: '  ‚úì Module structure (includes.sh, notes.sh, actions.sh)' },
                { type: 'output-success', text: '  ‚úì Proper classification (MODULE type)' },
                { type: 'output-success', text: '  ‚úì Dual directory separation' },
                { type: 'output-success', text: '  ‚úì Function exports' },
                { type: 'blank' },
                { type: 'comment', text: '# Keep exploring with MELVIN:' },
                { type: 'prompt', text: '$ ', inline: true },
                { type: 'command', text: 'melvin repl' },
                { type: 'comment', text: '# Try other modules, learn more patterns!' },
                { type: 'blank' },
                { type: 'output', text: 'MELVIN: Machine Electronics Live Virtual Intelligence Network' },
                { type: 'output', text: 'Precision above all. üéØ' }
            ]
        };

        function renderTerminal(step) {
            const terminal = document.getElementById('terminal');
            terminal.innerHTML = '';

            const content = terminalContent[step] || [];

            content.forEach((line, index) => {
                setTimeout(() => {
                    const lineDiv = document.createElement('div');
                    lineDiv.className = `terminal-line ${line.type}`;

                    if (line.type === 'blank') {
                        lineDiv.innerHTML = '&nbsp;';
                    } else if (line.inline) {
                        const span = document.createElement('span');
                        span.textContent = line.text;
                        lineDiv.appendChild(span);
                        lineDiv.style.display = 'inline';
                    } else {
                        if (line.highlight) {
                            const span = document.createElement('span');
                            span.className = 'highlight';
                            span.textContent = line.text;
                            lineDiv.appendChild(span);
                        } else {
                            lineDiv.textContent = line.text;
                        }
                    }

                    terminal.appendChild(lineDiv);
                    lineDiv.classList.add('visible');

                    // Auto-scroll to bottom
                    terminal.scrollTop = terminal.scrollHeight;
                }, index * 100);
            });
        }

        function updateStep() {
            // Hide all steps
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active');
            });

            // Show current step
            const currentStepEl = document.querySelector(`[data-step="${currentStep}"]`);
            if (currentStepEl) {
                currentStepEl.classList.add('active');
            }

            // Update buttons
            document.getElementById('prevBtn').disabled = currentStep === 0;
            document.getElementById('nextBtn').disabled = currentStep === totalSteps;

            if (currentStep === totalSteps) {
                document.getElementById('nextBtn').textContent = '‚úì Complete';
            } else {
                document.getElementById('nextBtn').textContent = 'Next ‚Üí';
            }

            // Update progress
            document.getElementById('progress').textContent = `Step ${currentStep + 1} of ${totalSteps + 1}`;

            // Update terminal
            renderTerminal(currentStep);

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                currentStep++;
                updateStep();
            }
        }

        function prevStep() {
            if (currentStep > 0) {
                currentStep--;
                updateStep();
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' && currentStep < totalSteps) {
                nextStep();
            } else if (e.key === 'ArrowLeft' && currentStep > 0) {
                prevStep();
            }
        });

        // Initialize
        updateStep();
    </script>
</body>
</html>
