{
  "metadata": {
    "title": "Games CLI Guide",
    "subtitle": "Manage, play, and deploy games with tetra",
    "description": "Learn to use the games CLI for managing game installations across orgs, editing manifests, deploying to servers, and creating backup archives.",
    "version": "1.0.0",
    "author": "Tetra Team",
    "created": "2026-01-26T00:00:00Z",
    "tags": ["games", "cli", "manifest", "deploy", "orgs", "guide"],
    "difficulty": "beginner",
    "estimatedTime": 25,
    "prerequisites": [
      "Completed Tetra bootstrap",
      "Basic bash familiarity"
    ],
    "context": {
      "shell": "bash",
      "shellVersion": "5.2+",
      "requiredCommands": ["source", "jq", "tar"],
      "environmentVars": {
        "TETRA_SRC": "Path to tetra source",
        "TETRA_DIR": "Path to tetra runtime data"
      },
      "workingDirectory": "~/tetra"
    }
  },
  "theme": {
    "colors": {
      "accentPrimary": "#00ACC1",
      "accentSecondary": "#43A047"
    }
  },
  "steps": [
    {
      "id": "welcome",
      "title": "Welcome to Games",
      "subtitle": "Multi-org game management",
      "content": [
        {
          "type": "paragraph",
          "text": "The games module manages game installations across tetra orgs. Each org has its own games directory with independent game folders, a shared manifest (games.json), and support for backup, deployment, and access control."
        },
        {
          "type": "learn-box",
          "title": "What You'll Learn",
          "content": [
            {
              "type": "list",
              "items": [
                "Loading the games module and listing games",
                "Playing games and viewing metadata",
                "Working with orgs and searching across them",
                "Editing the manifest with CRUD commands",
                "Uploading, deploying, and backing up games",
                "Running diagnostics with games doctor"
              ]
            }
          ]
        },
        {
          "type": "info-box",
          "title": "Directory Layout",
          "content": [
            {
              "type": "paragraph",
              "text": "Games live at $TETRA_DIR/orgs/<org>/games/<game>/. Each game has a game.toml for configuration and optionally a controls.json for input mappings."
            }
          ]
        }
      ],
      "terminal": [
        { "type": "comment", "content": "# Games - Tetra Game Management" },
        { "type": "comment", "content": "# Manage games across orgs, deploy to servers" },
        { "type": "blank", "content": "" },
        { "type": "comment", "content": "# Games provides:" },
        { "type": "output", "content": "  - Multi-org game directories" },
        { "type": "output", "content": "  - Manifest CRUD (games.json)" },
        { "type": "output", "content": "  - Upload, deploy, and sync" },
        { "type": "output", "content": "  - Gamepak backup/restore" },
        { "type": "output", "content": "  - Environment diagnostics" }
      ]
    },
    {
      "id": "bootstrap",
      "title": "Load the Games Module",
      "subtitle": "Source games.sh into your shell",
      "content": [
        {
          "type": "paragraph",
          "text": "Games is a standard tetra module. Source tetra.sh first, then the games module. This sets GAMES_SRC and GAMES_DIR and loads all submodules (sync, admin, manifest, crud, upload, deploy, preflight, config)."
        },
        {
          "type": "you-try",
          "title": "Load Games",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "source ~/tetra/tetra.sh",
                "source \"$TETRA_SRC/bash/games/games.sh\""
              ]
            }
          ]
        },
        {
          "type": "you-try",
          "title": "Verify It Works",
          "content": [
            {
              "type": "command-block",
              "commands": ["games help"]
            }
          ]
        }
      ],
      "terminal": [
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "source ~/tetra/tetra.sh" },
        { "type": "output-success", "content": "Tetra initialized" },
        { "type": "blank", "content": "" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "source \"$TETRA_SRC/bash/games/games.sh\"" },
        { "type": "output", "content": "Games module loaded" },
        { "type": "blank", "content": "" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games help" },
        { "type": "output-header", "content": "GAMES - Tetra Game Management" },
        { "type": "output", "content": "COMMANDS" },
        { "type": "output", "content": "  list                  List installed games" },
        { "type": "output", "content": "  play <game>           Play a game" },
        { "type": "output", "content": "  info <game>           Show game details" }
      ],
      "details": {
        "enabled": true,
        "title": "Under the Hood",
        "icon": "?",
        "displayMode": "margin-note",
        "collapsed": true,
        "sections": [
          {
            "type": "explanation",
            "title": "Module loading order",
            "content": "games.sh sources submodules in order: help.sh, games_sync.sh, games_admin.sh, games_manifest.sh, games_crud.sh, games_upload.sh, games_deploy.sh, games_preflight.sh, games_config.sh, games_complete.sh. Each is guarded by an existence check so missing files don't break the module.",
            "level": "intermediate"
          },
          {
            "type": "code-dive",
            "title": "Strong globals",
            "file": "bash/games/games.sh",
            "lines": [30, 31, 48, 49],
            "explanation": "GAMES_SRC points to source code in git. GAMES_DIR is the default runtime games directory. The active org is resolved dynamically by _games_get_org() which checks GAMES_ORG > GAMES_CTX_ORG > TETRA_ORG > 'tetra'."
          }
        ]
      }
    },
    {
      "id": "list-and-info",
      "title": "List Games and View Info",
      "subtitle": "Discover what's installed",
      "content": [
        {
          "type": "paragraph",
          "text": "The list command shows all games in the current org's games directory. Each game directory can contain a game.toml with metadata like name, description, and version."
        },
        {
          "type": "you-try",
          "title": "List and Inspect",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "games list",
                "games info estoface"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "The info command shows the game's org, path, game.toml contents, controls availability, and a file listing."
        }
      ],
      "terminal": [
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games list" },
        { "type": "output", "content": "Games in tetra:" },
        { "type": "blank", "content": "" },
        { "type": "output-success", "content": "  estoface            Audio-Visual Synthesis Engine" },
        { "type": "output-success", "content": "  quadrapole          Four-pole oscillator game" },
        { "type": "blank", "content": "" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games info estoface" },
        { "type": "output", "content": "Game: estoface" },
        { "type": "output", "content": "Org:  tetra" },
        { "type": "output", "content": "Path: /home/you/tetra_dir/orgs/tetra/games/estoface" },
        { "type": "blank", "content": "" },
        { "type": "output", "content": "Configuration (game.toml):" },
        { "type": "output", "content": "  name = \"Estoface\"" },
        { "type": "output", "content": "  version = \"1.0.0\"" },
        { "type": "output", "content": "  description = \"Audio-Visual Synthesis Engine\"" }
      ]
    },
    {
      "id": "play-game",
      "title": "Play a Game",
      "subtitle": "Launch games from the CLI",
      "content": [
        {
          "type": "paragraph",
          "text": "The play command discovers a game's entry point and runs it. It searches game.toml for repl= or entry= fields, then falls back to convention: core/<game>_repl.sh or <game>.sh."
        },
        {
          "type": "you-try",
          "title": "Play a Game",
          "content": [
            {
              "type": "command-block",
              "commands": ["games play estoface"]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "Entry Point Discovery",
          "content": [
            {
              "type": "list",
              "ordered": true,
              "items": [
                "game.toml repl= field (explicit REPL script)",
                "game.toml entry= field (explicit entry script)",
                "core/<game>_repl.sh (convention-based REPL)",
                "<game>.sh (simple script fallback)"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "After sourcing the entry script, games calls game_run(), <game>_run(), or main() in that order."
        },
        {
          "type": "info-box",
          "title": "Controls Support",
          "content": [
            {
              "type": "paragraph",
              "text": "Pass --controls to start the MIDI/gamepad bridge daemon alongside the game. Requires midi_bridge to be built (cd $TETRA_SRC/bash/midi && make)."
            }
          ]
        }
      ],
      "terminal": [
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games play estoface" },
        { "type": "output", "content": "Starting estoface..." },
        { "type": "blank", "content": "" },
        { "type": "comment", "content": "# With MIDI/gamepad controls:" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games play estoface --controls" },
        { "type": "output", "content": "Starting estoface..." },
        { "type": "output", "content": "Starting controls daemon (MIDI + gamepad)..." },
        { "type": "output", "content": "Controls PID: 54321" },
        { "type": "blank", "content": "" },
        { "type": "comment", "content": "# View control mappings:" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games controls estoface" },
        { "type": "output", "content": "Controls for estoface:" },
        { "type": "output", "content": "  move_up         Move character up" },
        { "type": "output", "content": "  move_down       Move character down" }
      ],
      "details": {
        "enabled": true,
        "title": "Under the Hood",
        "icon": "?",
        "displayMode": "margin-note",
        "collapsed": true,
        "sections": [
          {
            "type": "explanation",
            "title": "Runtime environment",
            "content": "When a game starts, games sets <GAME>_SRC to the game directory and <GAME>_DIR to $TETRA_DIR/games/<game>/ for runtime data. The runtime directory is created automatically on first play.",
            "level": "intermediate"
          },
          {
            "type": "gotcha",
            "title": "Controls daemon cleanup",
            "content": "The controls daemon (midi_bridge) is cleaned up via a trap on EXIT. If the shell is killed with SIGKILL, the daemon may become orphaned. Use 'games doctor --kill' to find and kill orphan processes.",
            "severity": "warning"
          }
        ]
      }
    },
    {
      "id": "orgs",
      "title": "Working with Orgs",
      "subtitle": "Multi-org game management",
      "content": [
        {
          "type": "paragraph",
          "text": "Games are organized under orgs. Each org has its own games/ directory. The active org determines which games you see and operate on."
        },
        {
          "type": "you-try",
          "title": "Explore Orgs",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "games org",
                "games orgs",
                "games org pixeljam",
                "games list"
              ]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "Org Resolution Priority",
          "content": [
            {
              "type": "list",
              "ordered": true,
              "items": [
                "GAMES_ORG environment variable (temporary override)",
                "GAMES_CTX_ORG (set by 'games org <name>')",
                "TETRA_ORG (global tetra org context)",
                "Default: tetra"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Use 'games search' to find games across all orgs without switching."
        }
      ],
      "terminal": [
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games org" },
        { "type": "output", "content": "Active org: tetra" },
        { "type": "output", "content": "Games dir:  /home/you/tetra_dir/orgs/tetra/games" },
        { "type": "output", "content": "Games:      2" },
        { "type": "blank", "content": "" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games orgs" },
        { "type": "output", "content": "Organizations with games:" },
        { "type": "blank", "content": "" },
        { "type": "output", "content": "  ORG                  GAMES" },
        { "type": "output", "content": "  ---                  -----" },
        { "type": "output-success", "content": "  tetra                2 *" },
        { "type": "output", "content": "  pixeljam             5" },
        { "type": "blank", "content": "" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games search golf" },
        { "type": "output", "content": "Searching for: golf" },
        { "type": "output", "content": "  pixeljam/cheapgolf" },
        { "type": "output", "content": "Found: 1 games" }
      ]
    },
    {
      "id": "manifest-crud",
      "title": "Manifest CRUD",
      "subtitle": "Edit games.json from the CLI",
      "content": [
        {
          "type": "paragraph",
          "text": "The games.json manifest is the source of truth for game metadata - the same data the admin UI edits. The CLI provides get, set, add, rm, import, and access commands for direct manipulation."
        },
        {
          "type": "you-try",
          "title": "CRUD Operations",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "games add my-game --name \"My Game\" --version \"1.0.0\" --role user",
                "games get my-game",
                "games get my-game version",
                "games set my-game version \"2.0.0\"",
                "games access my-game --auth --role premium",
                "games rm my-game"
              ]
            }
          ]
        },
        {
          "type": "info-box",
          "title": "Import from game.toml",
          "content": [
            {
              "type": "paragraph",
              "text": "If a game already has a game.toml, use 'games import <dir>' to pull its metadata into the manifest. Use 'games manifest rebuild' to rebuild the entire manifest from all game.toml files."
            }
          ]
        }
      ],
      "terminal": [
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games add my-game --name \"My Game\" --role user" },
        { "type": "output-success", "content": "Added my-game to manifest" },
        { "type": "blank", "content": "" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games get my-game version" },
        { "type": "output", "content": "1.0.0" },
        { "type": "blank", "content": "" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games set my-game version \"2.0.0\"" },
        { "type": "output-success", "content": "Set my-game.version = \"2.0.0\"" },
        { "type": "blank", "content": "" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games access my-game --auth --role premium" },
        { "type": "output-success", "content": "Updated access control for my-game" },
        { "type": "output", "content": "  requires_auth: true" },
        { "type": "output", "content": "  min_role: premium" }
      ],
      "details": {
        "enabled": true,
        "title": "Under the Hood",
        "icon": "?",
        "displayMode": "margin-note",
        "collapsed": true,
        "sections": [
          {
            "type": "explanation",
            "title": "Manifest location",
            "content": "The manifest lives at $PJA_GAMES_DIR/games.json. Default: $TETRA_DIR/orgs/pixeljam-arcade/games/games.json. This is the same file the web admin UI reads and writes.",
            "level": "intermediate"
          },
          {
            "type": "gotcha",
            "title": "CLI and admin UI share state",
            "content": "Since games.json is the single source of truth, edits from the CLI are immediately visible in the admin UI and vice versa. There is no sync step - they read the same file.",
            "severity": "info"
          }
        ]
      }
    },
    {
      "id": "upload-deploy",
      "title": "Upload and Deploy",
      "subtitle": "Get games onto servers",
      "content": [
        {
          "type": "paragraph",
          "text": "The upload command extracts a game ZIP into the games directory and optionally syncs to S3. The deploy command pushes games to remote servers via SSH."
        },
        {
          "type": "you-try",
          "title": "Upload a Game",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "games upload my-game_ver-1.0.0.zip --s3",
                "games url my-game"
              ]
            }
          ]
        },
        {
          "type": "you-try",
          "title": "Deploy to Server",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "games deploy my-game arcade.example.com",
                "games deploy-all arcade.example.com --dry-run",
                "games deploy-status arcade.example.com"
              ]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "Deploy Options",
          "content": [
            {
              "type": "list",
              "items": [
                "--key, -i <path>: SSH private key",
                "--user, -u <user>: SSH username",
                "--dest, -d <path>: Remote path (default: /var/www/games)",
                "--s3: Deploy from S3 instead of local",
                "--manifest: Deploy games.json only",
                "--dry-run, -n: Preview without executing"
              ]
            }
          ]
        }
      ],
      "terminal": [
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games upload dillo_ver-2.0.0.zip --s3" },
        { "type": "output", "content": "Parsing filename: dillo_ver-2.0.0.zip" },
        { "type": "output", "content": "  Slug: dillo" },
        { "type": "output", "content": "  Version: 2.0.0" },
        { "type": "output-success", "content": "Extracted to games directory" },
        { "type": "output-success", "content": "Synced to S3" },
        { "type": "blank", "content": "" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games deploy dillo arcade.example.com --dry-run" },
        { "type": "output", "content": "[DRY RUN] Would deploy:" },
        { "type": "output", "content": "  Game: dillo" },
        { "type": "output", "content": "  Host: arcade.example.com" },
        { "type": "output", "content": "  Dest: /var/www/games/dillo" }
      ]
    },
    {
      "id": "backup-restore",
      "title": "Backup and Restore",
      "subtitle": "Gamepak archives",
      "content": [
        {
          "type": "paragraph",
          "text": "Gamepaks are tar.gz archives containing a game and its manifest.toml. Use pak to create backups and unpak to restore them."
        },
        {
          "type": "you-try",
          "title": "Create and Restore a Gamepak",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "games pak estoface",
                "games unpak estoface.gamepak.tar.gz"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "If no manifest.toml exists, pak auto-generates one from game.toml metadata."
        }
      ],
      "terminal": [
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games pak estoface" },
        { "type": "output", "content": "Creating gamepak: estoface.gamepak.tar.gz" },
        { "type": "output", "content": "  Game: estoface" },
        { "type": "output", "content": "  Source: /home/you/tetra_dir/orgs/tetra/games/estoface" },
        { "type": "output-success", "content": "Created: estoface.gamepak.tar.gz" },
        { "type": "output", "content": "-rw-r--r--  1 you  staff  2.4M Jan 26 10:00 estoface.gamepak.tar.gz" },
        { "type": "blank", "content": "" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games unpak estoface.gamepak.tar.gz" },
        { "type": "output", "content": "Extracting gamepak: estoface.gamepak.tar.gz" },
        { "type": "output-success", "content": "Extracted successfully" },
        { "type": "output", "content": "Installed games:" },
        { "type": "output", "content": "  - estoface" }
      ]
    },
    {
      "id": "doctor",
      "title": "Diagnostics and Maintenance",
      "subtitle": "Doctor, rename, and move games",
      "content": [
        {
          "type": "paragraph",
          "text": "The doctor command checks your games environment, finds orphan processes, and provides tools for renaming and moving games across orgs."
        },
        {
          "type": "you-try",
          "title": "Run Diagnostics",
          "content": [
            {
              "type": "command-block",
              "commands": ["games doctor"]
            }
          ]
        },
        {
          "type": "learn-box",
          "title": "Doctor Subcommands",
          "content": [
            {
              "type": "list",
              "items": [
                "games doctor - Full environment check",
                "games doctor rename <old> <new> - Rename across all touch points",
                "games doctor move <game> <org> - Move to different org",
                "games doctor refs <game> - Find codebase references",
                "games doctor --kill - Kill orphan game processes"
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Rename updates the directory, game.toml, games.json manifest, enabled symlinks, and runtime directory in a single operation."
        }
      ],
      "terminal": [
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games doctor" },
        { "type": "output-header", "content": "Games Environment Diagnostics" },
        { "type": "output-header", "content": "==============================" },
        { "type": "blank", "content": "" },
        { "type": "output", "content": "Module:" },
        { "type": "output", "content": "  GAMES_SRC: /home/you/tetra/bash/games" },
        { "type": "output", "content": "  Org:       tetra" },
        { "type": "blank", "content": "" },
        { "type": "output", "content": "Directories:" },
        { "type": "output-success", "content": "  [OK] Orgs dir: /home/you/tetra_dir/orgs" },
        { "type": "output-success", "content": "  [OK] Games dir: /home/you/tetra_dir/orgs/tetra/games" },
        { "type": "blank", "content": "" },
        { "type": "output", "content": "Games by org:" },
        { "type": "output", "content": "  tetra           2 games" },
        { "type": "output", "content": "  pixeljam        5 games" },
        { "type": "output", "content": "Total: 7 games" },
        { "type": "blank", "content": "" },
        { "type": "output", "content": "Processes:" },
        { "type": "output-success", "content": "  [OK] No orphan game processes" }
      ],
      "details": {
        "enabled": true,
        "title": "Under the Hood",
        "icon": "?",
        "displayMode": "margin-note",
        "collapsed": true,
        "sections": [
          {
            "type": "explanation",
            "title": "What doctor checks",
            "content": "Doctor verifies: GAMES_SRC path, orgs directory, games directory, runtime directory, midi_bridge binary, PJA_GAMES_DIR integration, game counts per org, and orphan process detection (game processes not managed by TSM).",
            "level": "intermediate"
          },
          {
            "type": "gotcha",
            "title": "Rename is comprehensive",
            "content": "games doctor rename touches 6 locations: directory name, game.toml id/name fields, games.json manifest entry, enabled/ symlink, available/ directory, and runtime directory. It also scans for external references and warns about files that may need manual updates.",
            "severity": "info"
          }
        ]
      }
    },
    {
      "id": "preflight-config",
      "title": "Preflight and Config",
      "subtitle": "Validate deploy-readiness and manage settings",
      "content": [
        {
          "type": "paragraph",
          "text": "Before deploying, use preflight to validate a game's SDK integration and lifecycle handlers. The config command manages PJA_CONFIG settings per game."
        },
        {
          "type": "you-try",
          "title": "Check Deploy Readiness",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "games preflight my-game",
                "games preflight --all --json"
              ]
            }
          ]
        },
        {
          "type": "you-try",
          "title": "Manage Config",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "games config my-game",
                "games config my-game debug true",
                "games config --list"
              ]
            }
          ]
        }
      ],
      "terminal": [
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games preflight my-game" },
        { "type": "output", "content": "Preflight check: my-game" },
        { "type": "output-success", "content": "  [OK] game.toml exists" },
        { "type": "output-success", "content": "  [OK] Entry point found" },
        { "type": "output-success", "content": "  [OK] SDK lifecycle handlers present" },
        { "type": "blank", "content": "" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games config my-game" },
        { "type": "output", "content": "PJA_CONFIG for my-game:" },
        { "type": "output", "content": "  debug: false" },
        { "type": "output", "content": "  analytics: true" }
      ]
    },
    {
      "id": "conclusion",
      "title": "Quick Reference",
      "subtitle": "All commands at a glance",
      "content": [
        {
          "type": "paragraph",
          "text": "You've learned the full games CLI. Here's a quick reference of the most useful commands."
        },
        {
          "type": "info-box",
          "title": "Essential Commands",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "games list",
                "games play <game>",
                "games info <game>",
                "games org [name]",
                "games orgs",
                "games search <query>"
              ],
              "description": "Day-to-day usage"
            }
          ]
        },
        {
          "type": "info-box",
          "title": "Manifest & Deploy",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "games add <slug> --name \"Name\" --role user",
                "games get <slug> [field]",
                "games set <slug> <field> <value>",
                "games upload <file.zip> --s3",
                "games deploy <slug> <host>",
                "games deploy-all <host>"
              ],
              "description": "Publishing workflow"
            }
          ]
        },
        {
          "type": "info-box",
          "title": "Maintenance",
          "content": [
            {
              "type": "command-block",
              "commands": [
                "games doctor",
                "games doctor rename <old> <new>",
                "games doctor move <game> <org>",
                "games pak <game>",
                "games preflight <game>"
              ],
              "description": "Diagnostics and backup"
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "For detailed help on any topic: games help crud | upload | deploy | play | orgs | pak | all"
        }
      ],
      "terminal": [
        { "type": "output-header", "content": "Games CLI - Quick Reference" },
        { "type": "blank", "content": "" },
        { "type": "output", "content": "Explore:   games list | info | search | orgs" },
        { "type": "output", "content": "Play:      games play <game> [--controls]" },
        { "type": "output", "content": "Manifest:  games add | get | set | rm | access" },
        { "type": "output", "content": "Publish:   games upload | deploy | deploy-all" },
        { "type": "output", "content": "Maintain:  games doctor | pak | preflight" },
        { "type": "blank", "content": "" },
        { "type": "comment", "content": "# Deep dive into any topic:" },
        { "type": "prompt", "content": "$ ", "inline": true },
        { "type": "command", "content": "games help all" }
      ]
    }
  ],
  "timeline": {
    "duration": 1500,
    "markers": [
      { "time": 0, "label": "Welcome", "stepId": "welcome" },
      { "time": 100, "label": "Bootstrap", "stepId": "bootstrap" },
      { "time": 250, "label": "List & Info", "stepId": "list-and-info" },
      { "time": 400, "label": "Play", "stepId": "play-game" },
      { "time": 550, "label": "Orgs", "stepId": "orgs" },
      { "time": 700, "label": "CRUD", "stepId": "manifest-crud" },
      { "time": 900, "label": "Upload & Deploy", "stepId": "upload-deploy" },
      { "time": 1050, "label": "Backup", "stepId": "backup-restore" },
      { "time": 1150, "label": "Doctor", "stepId": "doctor" },
      { "time": 1300, "label": "Preflight", "stepId": "preflight-config" },
      { "time": 1420, "label": "Reference", "stepId": "conclusion" }
    ],
    "chapters": [
      {
        "title": "Getting Started",
        "startTime": 0,
        "endTime": 400,
        "stepIds": ["welcome", "bootstrap", "list-and-info"]
      },
      {
        "title": "Playing Games",
        "startTime": 400,
        "endTime": 700,
        "stepIds": ["play-game", "orgs"]
      },
      {
        "title": "Publishing",
        "startTime": 700,
        "endTime": 1150,
        "stepIds": ["manifest-crud", "upload-deploy", "backup-restore"]
      },
      {
        "title": "Maintenance",
        "startTime": 1150,
        "endTime": 1500,
        "stepIds": ["doctor", "preflight-config", "conclusion"]
      }
    ]
  },
  "glossary": {
    "org": {
      "term": "Org",
      "definition": "An organization namespace under $TETRA_DIR/orgs/<org>/. Each org has its own games directory."
    },
    "manifest": {
      "term": "Manifest",
      "definition": "games.json - the single source of truth for game metadata, shared between CLI and admin UI."
    },
    "gamepak": {
      "term": "Gamepak",
      "definition": "A tar.gz archive of a game directory including a manifest.toml with package metadata."
    },
    "game-toml": {
      "term": "game.toml",
      "definition": "Per-game configuration file with name, version, description, entry point, and other metadata."
    },
    "slug": {
      "term": "Slug",
      "definition": "A game's URL-safe identifier (lowercase, hyphenated). Used as the directory name and manifest key."
    },
    "preflight": {
      "term": "Preflight",
      "definition": "Deploy-readiness validation that checks SDK integration and lifecycle handlers before pushing to production."
    }
  }
}
